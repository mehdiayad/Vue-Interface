{"remainingRequest":"/Users/Med/Desktop/Perso/WEB/vue-Interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Med/Desktop/Perso/WEB/vue-Interface/src/components/Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Med/Desktop/Perso/WEB/vue-Interface/src/components/Product.vue","mtime":1583184808966},{"path":"/Users/Med/Desktop/Perso/WEB/vue-Interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-Interface/node_modules/babel-loader/lib/index.js","mtime":1583024830408},{"path":"/Users/Med/Desktop/Perso/WEB/vue-Interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-Interface/node_modules/vue-loader/lib/index.js","mtime":1583024836169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCgpleHBvcnQgZGVmYXVsdCB7CiAgCWRhdGEgKCkgewoJICAgIHJldHVybiB7CgkJCXBhZ2U6IDEsCgkJCXByb2R1Y3RzOiBbXSwKCQkJdG90YWxQcm9kdWN0czogbnVsbCwKCQkJY3VycmVudFBhZ2U6IG51bGwsCgkJCWxhc3RQYWdlOiBudWxsLAoJCQluZXh0UGFnZVVybDogbnVsbCwKCQkJcHJldmlvdXNQYWdlVXJsOiBudWxsLAoJICAgICAgfQogICAgfSwKICAJbW91bnRlZDogZnVuY3Rpb24oKSB7CgkJdGhpcy5nZXRQcm9kdWN0cyh0aGlzLnBhZ2UpCgl9LAogIAltZXRob2RzOiB7CgkJZm9ybWF0UHJpY2UodmFsdWUpIHsKCQkJbGV0IHZhbCA9ICh2YWx1ZS8xKS50b0ZpeGVkKDIpLnJlcGxhY2UoJy4nLCAnLCcpCgkJCXJldHVybiB2YWwudG9TdHJpbmcoKS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAiLiIpCgkJfSwKCQlnZXRJbWdVcmwoaW1nX3BhdGgpIHsKCQkJcmV0dXJuICcvcHJvZHVjdHMvJysgaW1nX3BhdGgKCQl9LAoJCWdldFByb2R1Y3RzKHBhZ2UpIHsKCQkJdmFyIHVybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTF9QUk9EVUNUX0lOREVYX1BBR0UgKyB0aGlzLnBhZ2UudG9TdHJpbmcoKQoJCQkgICAKCQkJYXhpb3MuZ2V0KHVybCkKICAgICAgIAkJLnRoZW4oKHJlc3BvbnNlKSA9PiB7CgkJCWNvbnNvbGUubG9nKHJlc3BvbnNlKQoJCQl0aGlzLnBhZ2UgPSByZXNwb25zZS5kYXRhLmN1cnJlbnRfcGFnZQoJCQl0aGlzLnByb2R1Y3RzID0gcmVzcG9uc2UuZGF0YS5kYXRhCgkJCXRoaXMudG90YWxQcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGEudG90YWwKCQkJdGhpcy5jdXJyZW50UGFnZSA9IHJlc3BvbnNlLmRhdGEuY3VycmVudF9wYWdlCgkJCXRoaXMubGFzdFBhZ2UgPSByZXNwb25zZS5kYXRhLmxhc3RfcGFnZQoJCQl0aGlzLm5leHRQYWdlVXJsID0gcmVzcG9uc2UuZGF0YS5uZXh0X3BhZ2VfdXJsCgkJCXRoaXMucHJldmlvdXNQYWdlVXJsID0gcmVzcG9uc2UuZGF0YS5wcmV2X3BhZ2VfdXJsCgkJCX0pCgoJCX0sCgkJY2FuR29CZWZvcmUoKXsKCQkJaWYodGhpcy5jdXJyZW50UGFnZSA+IDEpeyByZXR1cm4gdHJ1ZTsgfQoJCQllbHNlIHsgcmV0dXJuIGZhbHNlOyB9CgkJfSwKCQljYW5Hb0FmdGVyKCl7CgkJCWlmKHRoaXMuY3VycmVudFBhZ2UgPCB0aGlzLmxhc3RQYWdlKXsgcmV0dXJuIHRydWU7IH0KCQkJZWxzZSB7IHJldHVybiBmYWxzZTsgfQoJCX0sCgkJcHJldmlvdXNQYWdlKCl7CgkJCWlmKHRoaXMuY2FuR29CZWZvcmUoKSl7CgkJCXRoaXMucGFnZS0tOwoJCQl0aGlzLmdldFByb2R1Y3RzKHRoaXMucGFnZSk7CgkJCX0KCQl9LAoJCW5leHRQYWdlKCl7CgkJCWlmKHRoaXMuY2FuR29BZnRlcigpKXsKCQkJdGhpcy5wYWdlKys7CgkJCXRoaXMuZ2V0UHJvZHVjdHModGhpcy5wYWdlKTsKCQkJfQoJCX0sCgkJZGlzcGxheUNvbnNvbGUoKXsKCQkJY29uc29sZS5sb2coIlRvdGFsIHByb2R1Y3RzIDogIiArIHRoaXMudG90YWxQcm9kdWN0cykKCQkJY29uc29sZS5sb2coIkN1cnJlbnQgcGFnZSA6ICIgKyB0aGlzLmN1cnJlbnRQYWdlKQoJCQljb25zb2xlLmxvZygiTGFzdCBwYWdlIDogIiArIHRoaXMubGFzdFBhZ2UpCgkJCWNvbnNvbGUubG9nKCJQcmV2aW91cyBwYWdlIDogIiArIHRoaXMucHJldmlvdXNQYWdlKQoJCQljb25zb2xlLmxvZygiTmV4dCBQYWdlIDogIiArIHRoaXMubmV4dFBhZ2UpCgkJfQoJfQp9Cg=="},{"version":3,"sources":["Product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Product.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div class=\"container-fluid\">\n\t\t\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-4 col-sm-4 mt-3\" v-for=\"product in products\" v-bind:key=\"product.id\">\n\t\t\t\t<div class=\"mx-auto h-100 text-left\">\n\t\t\t\t\t<img class=\"product_img mx-auto d-block\" alt=\"product img\" v-bind:src=\"getImgUrl(product.img_overview)\" /> \n\t\t\t\t\t<h5> {{ formatPrice(product.price) }} â‚¬ </h5>\n\t\t\t\t\t<div class=\"small\"> {{ product.description_title }} </div>\n\t\t\t\t\t<div class=\"small\"> {{ product.img_overview }} </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-4 col-sm-4 mx-auto text-white mt-3 mb-3\">\n\n\t\t\t\t<span v-if=\"canGoBefore()\"> <a class=\"btn btn-info mx-1\" v-on:click=\"previousPage()\"> Precedent </a> </span>\n\t\t\t\t<span v-else> <a class=\"btn btn-info disabled mx-1\" v-on:click=\"previousPage()\"> Precedent </a> </span>\n\t\t\t\t\n\t\t\t\t<span class=\"text text-dark mx-1\"> {{ currentPage }} of {{lastPage}} </span>\n\n\t\t\t\t<span v-if=\"canGoAfter()\"> <a class=\"btn btn-info mx-1\" v-on:click=\"nextPage()\"> Suivant </a> </span>\n\t\t\t\t<span v-else> <a class=\"btn btn-info disabled mx-1\" v-on:click=\"nextPage()\"> Suivant </a> </span>\n\n\t\t\t</div>\n\n\t\t\t<!-- <span> <a class=\"btn btn-info text-white mx-1\" v-on:click=\"displayConsole()\"> TEST </a> </span> -->\n\n\t\t</div>\n\n\t</div>\n</template>\n\n\n<script>\n\nimport axios from 'axios'\n\nexport default {\n  \tdata () {\n\t    return {\n\t\t\tpage: 1,\n\t\t\tproducts: [],\n\t\t\ttotalProducts: null,\n\t\t\tcurrentPage: null,\n\t\t\tlastPage: null,\n\t\t\tnextPageUrl: null,\n\t\t\tpreviousPageUrl: null,\n\t      }\n    },\n  \tmounted: function() {\n\t\tthis.getProducts(this.page)\n\t},\n  \tmethods: {\n\t\tformatPrice(value) {\n\t\t\tlet val = (value/1).toFixed(2).replace('.', ',')\n\t\t\treturn val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\n\t\t},\n\t\tgetImgUrl(img_path) {\n\t\t\treturn '/products/'+ img_path\n\t\t},\n\t\tgetProducts(page) {\n\t\t\tvar url = process.env.VUE_APP_API_URL_PRODUCT_INDEX_PAGE + this.page.toString()\n\t\t\t   \n\t\t\taxios.get(url)\n       \t\t.then((response) => {\n\t\t\tconsole.log(response)\n\t\t\tthis.page = response.data.current_page\n\t\t\tthis.products = response.data.data\n\t\t\tthis.totalProducts = response.data.total\n\t\t\tthis.currentPage = response.data.current_page\n\t\t\tthis.lastPage = response.data.last_page\n\t\t\tthis.nextPageUrl = response.data.next_page_url\n\t\t\tthis.previousPageUrl = response.data.prev_page_url\n\t\t\t})\n\n\t\t},\n\t\tcanGoBefore(){\n\t\t\tif(this.currentPage > 1){ return true; }\n\t\t\telse { return false; }\n\t\t},\n\t\tcanGoAfter(){\n\t\t\tif(this.currentPage < this.lastPage){ return true; }\n\t\t\telse { return false; }\n\t\t},\n\t\tpreviousPage(){\n\t\t\tif(this.canGoBefore()){\n\t\t\tthis.page--;\n\t\t\tthis.getProducts(this.page);\n\t\t\t}\n\t\t},\n\t\tnextPage(){\n\t\t\tif(this.canGoAfter()){\n\t\t\tthis.page++;\n\t\t\tthis.getProducts(this.page);\n\t\t\t}\n\t\t},\n\t\tdisplayConsole(){\n\t\t\tconsole.log(\"Total products : \" + this.totalProducts)\n\t\t\tconsole.log(\"Current page : \" + this.currentPage)\n\t\t\tconsole.log(\"Last page : \" + this.lastPage)\n\t\t\tconsole.log(\"Previous page : \" + this.previousPage)\n\t\t\tconsole.log(\"Next Page : \" + this.nextPage)\n\t\t}\n\t}\n}\n</script>\n\n\n<style>\n\n.product_img{\n\twidth: 200px;\n\theight: 200px;\n}\n</style>"]}]}