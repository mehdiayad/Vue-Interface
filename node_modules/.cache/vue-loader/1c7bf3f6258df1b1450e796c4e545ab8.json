{"remainingRequest":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/ProductIndex.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/ProductIndex.vue","mtime":1584037596965},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/babel-loader/lib/index.js","mtime":1583024830408},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCmltcG9ydCBuYXZiYXJTdG9yZSBmcm9tICcuLi9zdG9yZS9uYXZiYXJTdG9yZScKCmV4cG9ydCBkZWZhdWx0IHsKCQogIAlkYXRhICgpIHsKCSAgICByZXR1cm4gewoJCQlwYWdlOiAxLAoJCQlwcm9kdWN0czogW10sCgkJCXRvdGFsUHJvZHVjdHM6IG51bGwsCgkJCWN1cnJlbnRQYWdlOiBudWxsLAoJCQlsYXN0UGFnZTogbnVsbCwKCQkJbmV4dFBhZ2VVcmw6IG51bGwsCgkJCXByZXZpb3VzUGFnZVVybDogbnVsbCwKCQkJcHJvZHVjdFNlYXJjaDogbmF2YmFyU3RvcmUuZ2V0dGVycy5nZXRQcm9kdWN0U2VhcmNoLAoJCQljYXRlZ29yeVNlYXJjaDogbmF2YmFyU3RvcmUuZ2V0dGVycy5nZXRDYXRlZ29yeVNlYXJjaCwKCQkJcGFnaW5hdGlvbjogMTAsCgkgICAgICB9CiAgICB9LAogIAltb3VudGVkOiBmdW5jdGlvbigpIHsKCQl0aGlzLmdldFByb2R1Y3RzKHRoaXMucGFnZSkKCX0sCiAgCW1ldGhvZHM6IHsKCQlnZXRQcm9kdWN0cyhwYWdlKSB7CgkJCS8vY29uc29sZS5sb2coJ2NhbGwgZ2V0IHByb2R1Y3RzJykKCQkJdmFyIHVybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTF9QUk9EVUNUX0lOREVYX0NVU1RPTSArIHRoaXMucGFnZQoJCQoJCQkvL2NvbnNvbGUubG9nKHVybCkKCQkJdmFyIGNhdGVnb3J5U2VhcmNoVGVtcCA9ICh0aGlzLmNhdGVnb3J5U2VhcmNoICE9MCAgPyB0aGlzLmNhdGVnb3J5U2VhcmNoIDogbnVsbCkKCQkJdmFyIHByb2R1Y3RTZWFyY2hUZW1wID0gKHRoaXMucHJvZHVjdFNlYXJjaCAgICE9JycgPyB0aGlzLnByb2R1Y3RTZWFyY2ggOiBudWxsKQoKCQkJLy9jb25zb2xlLmxvZygnQ2F0ZWdvcnkgPSAnKyBjYXRlZ29yeVNlYXJjaFRlbXApCgkJCS8vY29uc29sZS5sb2coJ1Byb2R1Y3QgPSAnKyBwcm9kdWN0U2VhcmNoVGVtcCkKCQkJCgkJCWF4aW9zKHsKCQkJCW1ldGhvZDogJ3Bvc3QnLAoJCQkJdXJsIDogdXJsLAoJCQkJZGF0YSA6IHtjYXRlZ29yeSA6IGNhdGVnb3J5U2VhcmNoVGVtcCwgcHJvZHVjdDogcHJvZHVjdFNlYXJjaFRlbXAsIHBhZ2luYXRpb246IHRoaXMucGFnaW5hdGlvbn0KCQkJfSkKICAgICAgIAkJLnRoZW4oKHJlc3BvbnNlKSA9PiB7CgkJCS8vY29uc29sZS5sb2cocmVzcG9uc2UpCgkJCXRoaXMucGFnZSA9IHJlc3BvbnNlLmRhdGEuY3VycmVudF9wYWdlCgkJCXRoaXMucHJvZHVjdHMgPSByZXNwb25zZS5kYXRhLmRhdGEKCQkJdGhpcy50b3RhbFByb2R1Y3RzID0gcmVzcG9uc2UuZGF0YS50b3RhbAoJCQl0aGlzLmN1cnJlbnRQYWdlID0gcmVzcG9uc2UuZGF0YS5jdXJyZW50X3BhZ2UKCQkJdGhpcy5sYXN0UGFnZSA9IHJlc3BvbnNlLmRhdGEubGFzdF9wYWdlCgkJCXRoaXMubmV4dFBhZ2VVcmwgPSByZXNwb25zZS5kYXRhLm5leHRfcGFnZV91cmwKCQkJdGhpcy5wcmV2aW91c1BhZ2VVcmwgPSByZXNwb25zZS5kYXRhLnByZXZfcGFnZV91cmwKCQkJfSk7CgkJfSwKCQljYW5Hb0JlZm9yZSgpewoJCQlpZih0aGlzLmN1cnJlbnRQYWdlID4gMSl7IHJldHVybiB0cnVlOyB9CgkJCWVsc2UgeyByZXR1cm4gZmFsc2U7IH0KCQl9LAoJCWNhbkdvQWZ0ZXIoKXsKCQkJaWYodGhpcy5jdXJyZW50UGFnZSA8IHRoaXMubGFzdFBhZ2UpeyByZXR1cm4gdHJ1ZTsgfQoJCQllbHNlIHsgcmV0dXJuIGZhbHNlOyB9CgkJfSwKCQlwcmV2aW91c1BhZ2UoKXsKCQkJaWYodGhpcy5jYW5Hb0JlZm9yZSgpKXsKCQkJdGhpcy5wYWdlLS07CgkJCXRoaXMuZ2V0UHJvZHVjdHModGhpcy5wYWdlKTsKCQkJfQoJCX0sCgkJbmV4dFBhZ2UoKXsKCQkJaWYodGhpcy5jYW5Hb0FmdGVyKCkpewoJCQl0aGlzLnBhZ2UrKzsKCQkJdGhpcy5nZXRQcm9kdWN0cyh0aGlzLnBhZ2UpOwoJCQl9CgkJfQoJfQp9Cg=="},{"version":3,"sources":["ProductIndex.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductIndex.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div class=\"container-fluid\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-4 col-sm-4 mt-3\" v-for=\"product in products\" v-bind:key=\"product.id\">\n\t\t\t\t\t<router-link :to=\"{ name: 'product_show', params: { id: product.id } }\" style=\"text-decoration:none;\">\n\t\t\t\t\t\t<div class=\"mx-auto h-100 text-left\">\n\t\t\t\t\t\t\t<img class=\"product_img mx-auto d-block\" alt=\"product img\" v-bind:src=\"getImgUrl(product.img_overview)\" /> \n\t\t\t\t\t\t\t<h5  class=\"product_price mt-2\"> {{ formatPrice(product.price) }} â‚¬ </h5>\n\t\t\t\t\t\t\t<div class=\"product_desc small\"> {{ product.description_title }} </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</router-link>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-4 col-sm-4 mx-auto text-white mt-3 mb-3\">\n\n\t\t\t\t<span v-if=\"canGoBefore()\"> <a class=\"btn btn-info text-white mx-1\" v-on:click=\"previousPage()\"> Precedent </a> </span>\n\t\t\t\t<span v-else> <a class=\"btn btn-info text-white disabled mx-1\" v-on:click=\"previousPage()\"> Precedent </a> </span>\n\t\t\t\t\n\t\t\t\t<span class=\"text text-dark mx-1\"> {{ currentPage }} of {{lastPage}} </span>\n\n\t\t\t\t<span v-if=\"canGoAfter()\"> <a class=\"btn btn-info text-white mx-1\" v-on:click=\"nextPage()\"> Suivant </a> </span>\n\t\t\t\t<span v-else> <a class=\"btn btn-info text-white disabled mx-1\" v-on:click=\"nextPage()\"> Suivant </a> </span>\n\n\t\t\t</div>\n\n\t\t\t<!-- <span> <a class=\"btn btn-info text-white mx-1\" v-on:click=\"displayConsole()\"> TEST </a> </span> -->\n\n\t\t</div>\n\n\t</div>\n</template>\n\n\n<script>\n\nimport axios from 'axios'\nimport navbarStore from '../store/navbarStore'\n\nexport default {\n\t\n  \tdata () {\n\t    return {\n\t\t\tpage: 1,\n\t\t\tproducts: [],\n\t\t\ttotalProducts: null,\n\t\t\tcurrentPage: null,\n\t\t\tlastPage: null,\n\t\t\tnextPageUrl: null,\n\t\t\tpreviousPageUrl: null,\n\t\t\tproductSearch: navbarStore.getters.getProductSearch,\n\t\t\tcategorySearch: navbarStore.getters.getCategorySearch,\n\t\t\tpagination: 10,\n\t      }\n    },\n  \tmounted: function() {\n\t\tthis.getProducts(this.page)\n\t},\n  \tmethods: {\n\t\tgetProducts(page) {\n\t\t\t//console.log('call get products')\n\t\t\tvar url = process.env.VUE_APP_API_URL_PRODUCT_INDEX_CUSTOM + this.page\n\t\t\n\t\t\t//console.log(url)\n\t\t\tvar categorySearchTemp = (this.categorySearch !=0  ? this.categorySearch : null)\n\t\t\tvar productSearchTemp = (this.productSearch   !='' ? this.productSearch : null)\n\n\t\t\t//console.log('Category = '+ categorySearchTemp)\n\t\t\t//console.log('Product = '+ productSearchTemp)\n\t\t\t\n\t\t\taxios({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl : url,\n\t\t\t\tdata : {category : categorySearchTemp, product: productSearchTemp, pagination: this.pagination}\n\t\t\t})\n       \t\t.then((response) => {\n\t\t\t//console.log(response)\n\t\t\tthis.page = response.data.current_page\n\t\t\tthis.products = response.data.data\n\t\t\tthis.totalProducts = response.data.total\n\t\t\tthis.currentPage = response.data.current_page\n\t\t\tthis.lastPage = response.data.last_page\n\t\t\tthis.nextPageUrl = response.data.next_page_url\n\t\t\tthis.previousPageUrl = response.data.prev_page_url\n\t\t\t});\n\t\t},\n\t\tcanGoBefore(){\n\t\t\tif(this.currentPage > 1){ return true; }\n\t\t\telse { return false; }\n\t\t},\n\t\tcanGoAfter(){\n\t\t\tif(this.currentPage < this.lastPage){ return true; }\n\t\t\telse { return false; }\n\t\t},\n\t\tpreviousPage(){\n\t\t\tif(this.canGoBefore()){\n\t\t\tthis.page--;\n\t\t\tthis.getProducts(this.page);\n\t\t\t}\n\t\t},\n\t\tnextPage(){\n\t\t\tif(this.canGoAfter()){\n\t\t\tthis.page++;\n\t\t\tthis.getProducts(this.page);\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n\n<style scoped>\n\n.product_img{\n\twidth: 200px;\n\theight: 200px;\n}\n\na {\n\tcolor: black;\n}\n\na :hover{\n\tcolor: #5bc0de;\n}\n\n\n.product_desc :hover{\n\ttext-decoration: none; \n}\n\n</style>"]}]}