{"remainingRequest":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/Login.vue","mtime":1584066338244},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/babel-loader/lib/index.js","mtime":1583024830408},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyL2luZGV4JwppbXBvcnQgdXNlclN0b3JlIGZyb20gJy4uL3N0b3JlL3VzZXJTdG9yZScKCgogIGV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWwxOiB1c2VyU3RvcmUuZ2V0dGVycy5nZXRVc2VyRW1haWwsCiAgICAgIHBhc3N3b3JkMTogbnVsbCwKICAgICAgbmFtZTI6IHVzZXJTdG9yZS5nZXR0ZXJzLmdldFVzZXJOYW1lLAogICAgICBwYXNzd29yZDI6IG51bGwsCiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIGxvZ2luU2ltcGxlOiAgZnVuY3Rpb24oKSB7CiAgICAgIGNvbnNvbGUubG9nKCdbVl1MT0dJTlMgW01dTE9HSU4gW1NdRU5URVInKQogICAgICB2YXIgdXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMX0FVVEhFTlRJRklDQVRJT05fU0lNUExFCiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICB1cmwgOiB1cmwsCiAgICAgICAgZGF0YSA6IHtlbWFpbCA6IHRoaXMuZW1haWwxLCBwYXNzd29yZDogdGhpcy5wYXNzd29yZDF9CiAgICAgIH0pCiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgICAgICB1c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VySWQnLHJlc3BvbnNlLmRhdGEudXNlcklkKQogICAgICAgICAgICB1c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VyRW1haWwnLHJlc3BvbnNlLmRhdGEudXNlckVtYWlsKQogICAgICAgICAgICB1c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VyTmFtZScscmVzcG9uc2UuZGF0YS51c2VyTmFtZSkKICAgICAgICAgICAgdXNlclN0b3JlLmNvbW1pdCgnc2V0VXNlckNvbm5lY3RlZCcscmVzcG9uc2UuZGF0YS51c2VyQ29ubmVjdGVkKQogICAgICAgICAgICB1c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VySW5mb3JtYXRpb25zJyxyZXNwb25zZS5kYXRhLnVzZXJJbmZvcm1hdGlvbnMpCiAgICAgICAgICAgIAogICAgICAgICAgICBpZih1c2VyU3RvcmUuZ2V0dGVycy5nZXRVc2VyQ29ubmVjdGVkKXsKICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7IG5hbWU6ICdob21lJyB9KQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnW1ZdTE9HSU4gW01dTE9HSU4gW1NdRVJST1InKQogICAgICB9KTsKICAgIH0sCiAgICBsb2dpblBhc3Nwb3J0OiAgZnVuY3Rpb24oKSB7CiAgICAgIGNvbnNvbGUubG9nKCdbVl1MT0dJTlAgW01dTE9HSU4gW1NdRU5URVInKQogICAgICB2YXIgdXJsMSA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTF9BVVRIRU5USUZJQ0FUSU9OX1BBU1NQT1JUCiAgICAgIGNvbnNvbGUubG9nKCdbVVJMID0gJysgdXJsMSkKICAgICAgCiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICB1cmwgOiB1cmwxLAogICAgICAgIGRhdGEgOiB7dXNlcm5hbWUgOiB0aGlzLm5hbWUyLCBwYXNzd29yZDogdGhpcy5wYXNzd29yZDIsIHVybDogdXJsMX0KICAgICAgfSkKICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coJ1tWXUxPR0lOIFtNXUxPR0lOIFtTXUVSUk9SJykKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q2FydE51bWJlcjogZnVuY3Rpb24oaWQpewogICAgICBjb25zb2xlLmxvZygnW1ZdTE9HSU4gW01dR0VUQ0FSVE5VTUJFUiBbU11FTlRFUicpCiAgICAgIHZhciB1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkxfQ0FSVF9OVU1CRVIgKyBpZCAKICAgICAgYXhpb3MuZ2V0KHVybCkuCiAgICAgICAgdGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgICAgICB2YXIgbnVtYmVyID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgbmF2YmFyU3RvcmUuY29tbWl0KCdzZXRDYXJ0TnVtYmVyJyxudW1iZXIpCiAgICAgIH0pCiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdbVl1MT0dJTiBbTV1HRVRDQVJUTlVNQkVSIFtTXUVSUk9SJykKICAgICAgfSkKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\n  <div class=\"container-fluid\">\n\n    <div class=\"row pt-2\">\n      <div class=\"col-5 col-sm-5 mx-auto mt-5\">\n        <div class=\"card mx-auto text-left\">\n          <div class=\"card-header bg-info text-white\"> Connexion SIMPLE</div>\n          <div class=\"card-body\">\n            <div class=\"form-group\">\n              <div> Email </div>\n              <input v-model=\"email1\" type=\"email\" class=\"form-control\"/>\n            </div>\n            <div class=\"form-group\">\n              <div> Mot de passe </div>\n              <input v-model=\"password1\" type=\"password\" class=\"form-control\"/>\n            </div>\n            <div class=\"text-center\">\n              <a class=\"float-right btn btn-info text-white\" v-on:click=\"loginSimple()\">Valider</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row pt-2\">\n      <div class=\"col-5 col-sm-5 mx-auto mt-5\">        \n        <div class=\"card mx-auto text-left\">\n          <div class=\"card-header bg-info text-white\"> Connexion PASSPORT</div>\n          <div class=\"card-body\">\n            <div class=\"form-group\">\n              <div> Nom  </div>\n              <input v-model=\"name2\" type=\"text\" class=\"form-control\"/>\n            </div>\n            <div class=\"form-group\">\n              <div> Mot de passe </div>\n              <input v-model=\"password2\" type=\"password\" class=\"form-control\"/>\n            </div>\n            <div class=\"text-center\">\n              <a class=\"float-right btn btn-info text-white\" v-on:click=\"loginPassport()\">Valider</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n</template>\n\n<script>\n\nimport axios from 'axios'\nimport router from '../router/index'\nimport userStore from '../store/userStore'\n\n\n  export default {\n  data() {\n    return {\n      email1: userStore.getters.getUserEmail,\n      password1: null,\n      name2: userStore.getters.getUserName,\n      password2: null,\n    }\n  },\n  methods:{\n    loginSimple:  function() {\n      console.log('[V]LOGINS [M]LOGIN [S]ENTER')\n      var url = process.env.VUE_APP_API_URL_AUTHENTIFICATION_SIMPLE\n      axios({\n        method: 'post',\n        url : url,\n        data : {email : this.email1, password: this.password1}\n      })\n      .then(function (response) {\n            //console.log(response)\n            userStore.commit('setUserId',response.data.userId)\n            userStore.commit('setUserEmail',response.data.userEmail)\n            userStore.commit('setUserName',response.data.userName)\n            userStore.commit('setUserConnected',response.data.userConnected)\n            userStore.commit('setUserInformations',response.data.userInformations)\n            \n            if(userStore.getters.getUserConnected){\n              router.push({ name: 'home' })\n            }\n        })\n        .catch(function (error) {\n          console.log('[V]LOGIN [M]LOGIN [S]ERROR')\n      });\n    },\n    loginPassport:  function() {\n      console.log('[V]LOGINP [M]LOGIN [S]ENTER')\n      var url1 = process.env.VUE_APP_API_URL_AUTHENTIFICATION_PASSPORT\n      console.log('[URL = '+ url1)\n      \n      axios({\n        method: 'post',\n        url : url1,\n        data : {username : this.name2, password: this.password2, url: url1}\n      })\n      .then(function (response) {\n            console.log(response)\n        })\n        .catch(function (error) {\n          console.log('[V]LOGIN [M]LOGIN [S]ERROR')\n      });\n    },\n    getCartNumber: function(id){\n      console.log('[V]LOGIN [M]GETCARTNUMBER [S]ENTER')\n      var url = process.env.VUE_APP_API_URL_CART_NUMBER + id \n      axios.get(url).\n        then((response) => {\n          //console.log(response)\n          var number = response.data\n          navbarStore.commit('setCartNumber',number)\n      })\n      .catch(function (error) {\n          console.log('[V]LOGIN [M]GETCARTNUMBER [S]ERROR')\n      })\n    },\n  }\n}\n</script>\n\n\n<style scoped>\n</style>\n\n"]}]}