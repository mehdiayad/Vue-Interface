{"remainingRequest":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/ProductShow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/ProductShow.vue","mtime":1584227910712},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/babel-loader/lib/index.js","mtime":1583024830408},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCmltcG9ydCB1c2VyU3RvcmUgZnJvbSAnLi4vc3RvcmUvdXNlclN0b3JlJwppbXBvcnQgbmF2YmFyU3RvcmUgZnJvbSAnLi4vc3RvcmUvbmF2YmFyU3RvcmUnCgpleHBvcnQgZGVmYXVsdCB7CgogIAlkYXRhICgpIHsKCSAgICByZXR1cm4gewoJCXByb2R1Y3RJZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLAoJCXVzZXJJZDogdXNlclN0b3JlLmdldHRlcnMuZ2V0VXNlcklkLAoJCXByb2R1Y3Q6IFtdLAoJCWRlc2NyaXB0aW9uczogbnVsbCwKCQlhbGVydDogZmFsc2UsCgkJcHJvZHVjdFF1YW50aXR5OiAwCiAgICAgIH0KCX0sCiAgCW1vdW50ZWQ6IGZ1bmN0aW9uKCkgewoJCWF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB1c2VyU3RvcmUuZ2V0dGVycy5nZXRVc2VyVG9rZW5BY2Nlc3M7CgkJY29uc29sZS5sb2coYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXS5zdWJzdHJpbmcoMCwgMjUpKQoJCXRoaXMuZ2V0UHJvZHVjdCh0aGlzLnByb2R1Y3RJZCkKCX0sCiAgCW1ldGhvZHM6IHsKCQlzdG9ja0lzRW5vdWdoOiBmdW5jdGlvbih2YWx1ZSl7CgkJCXJldHVybiAodmFsdWUgPj0gMTUgPyB0cnVlIDogZmFsc2UpCgkJfSwKCQlkaXNwbGF5QWxlcnRBZGQ6IGZ1bmN0aW9uKCl7CgkJCXJldHVybiB0aGlzLmFsZXJ0CgkJfSwKCQlnZXRQcm9kdWN0OiBmdW5jdGlvbihpZCkgewoJCQkvL2NvbnNvbGUubG9nKCdjYWxsIGdldCBwcm9kdWN0JykKICAgICAgCQl2YXIgdXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfQkFTRV9VUkwgKyAncHJvZHVjdC8nICsgaWQKCQkJCgkJCWF4aW9zLmdldCh1cmwpCiAgICAgICAJCS50aGVuKChyZXNwb25zZSkgPT4gewoJCQkvL2NvbnNvbGUubG9nKHJlc3BvbnNlKSwKCQkJdGhpcy5wcm9kdWN0ID0gcmVzcG9uc2UuZGF0YQoJCQl0aGlzLmRlc2NyaXB0aW9ucyA9IHRoaXMucHJvZHVjdC5kZXNjcmlwdGlvbl9wcm9kdWN0LnNwbGl0KCcuJykKCQkJdGhpcy5wcm9kdWN0UXVhbnRpdHkgPSAwCgkJCS8vY29uc29sZS5sb2codGhpcy5wcm9kdWN0KQoJCQkvL2NvbnNvbGUubG9nKHRoaXMuZGVzY3JpcHRpb25zKQoJCQl9KQoJCQkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAJCWNvbnNvbGUubG9nKGVycm9yKQogICAgICAJCX0pOwoKCQl9LAoJCWNoYW5nZUltZzogZnVuY3Rpb24ocGF0aCl7CgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9kdWN0X2ltZ19zaG93X2Rpc3BsYXkiKS5zcmMgPSB0aGlzLmdldEltZ1VybChwYXRoKTsKCQl9LAoJCWRpc3BsYXlDb25zb2xlKCl7CgkJCWNvbnNvbGUubG9nKHRoaXMucHJvZHVjdCkKCQkJY29uc29sZS5sb2codGhpcy5kZXNjcmlwdGlvbnMpCgkJfSwKCQlhZGRUb0NhcnQ6IGZ1bmN0aW9uKCl7CgkJCQogICAgICAJCXZhciB1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9CQVNFX1VSTCArICdjYXJ0JwoJCQkvL2NvbnNvbGUubG9nKCdbQUREVE9DQVJUXSA9ICcgKyB1cmwpCgoJCQlheGlvcyh7CgkJCQltZXRob2Q6ICdwb3N0JywKCQkJCXVybCA6IHVybCwKCQkJCWRhdGEgOiB7CgkJCQkJCS8vIHZhcmlhYmxlIGVsZW1lbnRzCgkJCQkJCXVzZXJfaWQ6IHVzZXJTdG9yZS5nZXR0ZXJzLmdldFVzZXJJZCwgCgkJCQkJCXByb2R1Y3RfaWQgOiB0aGlzLnByb2R1Y3RJZCwKCQkJCQkJcHJvZHVjdF9xdWFudGl0eSA6IHRoaXMucHJvZHVjdFF1YW50aXR5LAoJCQkJCQlwcm9kdWN0X3ByaWNlOiB0aGlzLnByb2R1Y3QucHJpY2UKCQkJCQkJfQoJCQl9KQogICAgICAgCQkudGhlbigocmVzcG9uc2UpID0+IHsKCQkJLy9jb25zb2xlLmxvZyhyZXNwb25zZSkKCgkJCWlmKHJlc3BvbnNlLmRhdGEuaXNTdG9yZWQpewoJCQkJLy9jb25zb2xlLmxvZyh0aGlzLnByb2R1Y3RRdWFudGl0eSkKCQkJCW5hdmJhclN0b3JlLmNvbW1pdCgndXBkYXRlQ2FydE51bWJlcicsIHRoaXMucHJvZHVjdFF1YW50aXR5KQoJCQkJdGhpcy5hbGVydCA9IHRydWUKCQkJfQoJCQkKCQkJdGhpcy5wcm9kdWN0UXVhbnRpdHkgPSAwCgoJCQl9KQoJCQkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAJCWNvbnNvbGUubG9nKGVycm9yKQogICAgICAJCX0pOwoJCX0JCgkJCgl9Cn0K"},{"version":3,"sources":["ProductShow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ProductShow.vue","sourceRoot":"src/components","sourcesContent":["<template>\n \n\t<div class=\"container-fluid pt-1\">\n\t\t<div class=\"row\">\n\n\t\t\t<transition name=\"fade\">\n\t\t\t\t<div class=\"col-12 col-sm-12 text-center\" v-show=\"displayAlertAdd()\">\n\t\t\t\t\t<div class=\"col-6 col-sm-6 mx-auto border rounded py-2 my-2 text-white\" style=\"background-color:#39CCCC;\">\n\t\t\t\t\t\t<div> Votre produit a bien ete ajoute au panier </div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\n\n\t\t\t<div class=\"col-1 col-sm-1\">\n\t\t\t\t<div class=\"container-fluid p-0\">\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-12 col-sm-12\"> <a  href=\"#\" v-on:click=\"changeImg(product.img1)\"><img alt=\"product_img_show_1\" class=\"product_img_show_mini product_img_show_1 img-fluid  mt-3 border rounded w-100\" v-bind:src=\"getImgUrl(product.img1)\"/></a></div>\n\t\t\t\t\t\t<div class=\"col-12 col-sm-12\"> <a  href=\"#\" v-on:click=\"changeImg(product.img2)\"><img alt=\"product_img_show_1\" class=\"product_img_show_mini product_img_show_1 img-fluid  mt-3 border rounded w-100\" v-bind:src=\"getImgUrl(product.img2)\"/></a></div>\n\t\t\t\t\t\t<div class=\"col-12 col-sm-12\"> <a  href=\"#\" v-on:click=\"changeImg(product.img3)\"><img alt=\"product_img_show_1\" class=\"product_img_show_mini product_img_show_1 img-fluid  mt-3 border rounded w-100\" v-bind:src=\"getImgUrl(product.img3)\"/></a></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"col-4 col-sm-4\">\n\t\t\t\t<div class=\"col-12 col-sm-12\"> <img alt=\"product_img_display\" id=\"product_img_show_display\" class=\"product_img_show_display img-fluid w-100\" v-bind:src=\"getImgUrl(product.img1)\"/></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"col-4 col-sm-4 text-left\">\n\t\t\t\t<h5> {{ product.description_title }}</h5>\n\t\t\t\t<p class=\"pb-0 mb-0\"> De <span class=\"text-primary h5\">{{ product.brand }}</span></p>\n\t\t\t\t\n\t\t\t\t<span v-for=\"number in 5\" v-bind:key=\"number\">\n\t\t\t\t\t<i v-if=\"number<=product.score\" class=\"fas fa-star text-dark\"></i>\n\t\t\t\t\t<i v-else class=\"far fa-star text-dark\"></i>\n\t\t\t\t</span>\n\t\t\t\t\n\t\t\t\t<div class=\"pb-1 mb-2 bg-dark\"></div>\n\t\t\t\t\n\t\t\t\t<p> Prix : <span class=\"text-danger h5\">{{ formatPrice(product.price) }} â‚¬ </span> </p>\n\t\t\t\t\n\t\t\t\t<ul>\n\t\t\t\t\t<span v-for=\"(description,i) in descriptions\" v-bind:key=\"i\">\n\t\t\t\t\t\t<li v-if=\"(description.length)>1\"> {{description}} </li>\n\t\t\t\t\t</span>\n\t\t\t\t</ul>\n\n\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\n\t\t\t<div class=\"col-3 col-sm-3\">\n\t\t\t\t<div class=\"container-fluid\">\n\t\t\t\t\t<div class=\"row text-left\">\n\t\t\t\t\t\t<div class=\"col-9 col-sm-9 border rounded p-3 mx-auto\">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div v-if=\"stockIsEnough(product.stock)\">\n\t\t\t\t\t\t\t\t<h4 class=\"text-primary\"> En Stock </h4>\n\t\t\t\t\t\t\t\t<h5 class=\"mt-5\"> Quantite :\n\t\t\t\t\t\t\t\t\t<select v-model=\"productQuantity\">\n\t\t\t\t\t\t\t\t\t\t<option v-for=\"number in 15\" :key=\"number\" :value=\"number\">\n\t\t\t\t\t\t\t\t\t\t\t{{ number }}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t<h4 class=\"text-danger\"> Plus que {{ product.stock }} restants </h4>\n\t\t\t\t\t\t\t\t<h5 class=\"mt-5\"> Quantite : \n\t\t\t\t\t\t\t\t\t<select v-model=\"productQuantity\">\n\t\t\t\t\t\t\t\t\t\t<option v-for=\"number in product.stock\" :key=\"number\" :value=\"number\">\n\t\t\t\t\t\t\t\t\t\t\t{{ number }}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t\t<button class=\"btn btn-info w-100 mt-3\" @click=\"addToCart()\"> Ajouter au panier </button>\n\n\t\t\t\t\t\t\t\t<router-link :to=\"{ name: 'cart_index', params: { id: userId } }\">\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn-danger w-100 mt-3\"> Voir le panier </button>\n\t\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n  \n</template>\n\n\n<script>\n\nimport axios from 'axios'\nimport userStore from '../store/userStore'\nimport navbarStore from '../store/navbarStore'\n\nexport default {\n\n  \tdata () {\n\t    return {\n\t\tproductId: this.$route.params.id,\n\t\tuserId: userStore.getters.getUserId,\n\t\tproduct: [],\n\t\tdescriptions: null,\n\t\talert: false,\n\t\tproductQuantity: 0\n      }\n\t},\n  \tmounted: function() {\n\t\taxios.defaults.headers.common['Authorization'] = 'Bearer ' + userStore.getters.getUserTokenAccess;\n\t\tconsole.log(axios.defaults.headers.common['Authorization'].substring(0, 25))\n\t\tthis.getProduct(this.productId)\n\t},\n  \tmethods: {\n\t\tstockIsEnough: function(value){\n\t\t\treturn (value >= 15 ? true : false)\n\t\t},\n\t\tdisplayAlertAdd: function(){\n\t\t\treturn this.alert\n\t\t},\n\t\tgetProduct: function(id) {\n\t\t\t//console.log('call get product')\n      \t\tvar url = process.env.VUE_APP_API_BASE_URL + 'product/' + id\n\t\t\t\n\t\t\taxios.get(url)\n       \t\t.then((response) => {\n\t\t\t//console.log(response),\n\t\t\tthis.product = response.data\n\t\t\tthis.descriptions = this.product.description_product.split('.')\n\t\t\tthis.productQuantity = 0\n\t\t\t//console.log(this.product)\n\t\t\t//console.log(this.descriptions)\n\t\t\t})\n\t\t\t.catch(function (error) {\n          \t\tconsole.log(error)\n      \t\t});\n\n\t\t},\n\t\tchangeImg: function(path){\n\t\t\tdocument.getElementById(\"product_img_show_display\").src = this.getImgUrl(path);\n\t\t},\n\t\tdisplayConsole(){\n\t\t\tconsole.log(this.product)\n\t\t\tconsole.log(this.descriptions)\n\t\t},\n\t\taddToCart: function(){\n\t\t\t\n      \t\tvar url = process.env.VUE_APP_API_BASE_URL + 'cart'\n\t\t\t//console.log('[ADDTOCART] = ' + url)\n\n\t\t\taxios({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl : url,\n\t\t\t\tdata : {\n\t\t\t\t\t\t// variable elements\n\t\t\t\t\t\tuser_id: userStore.getters.getUserId, \n\t\t\t\t\t\tproduct_id : this.productId,\n\t\t\t\t\t\tproduct_quantity : this.productQuantity,\n\t\t\t\t\t\tproduct_price: this.product.price\n\t\t\t\t\t\t}\n\t\t\t})\n       \t\t.then((response) => {\n\t\t\t//console.log(response)\n\n\t\t\tif(response.data.isStored){\n\t\t\t\t//console.log(this.productQuantity)\n\t\t\t\tnavbarStore.commit('updateCartNumber', this.productQuantity)\n\t\t\t\tthis.alert = true\n\t\t\t}\n\t\t\t\n\t\t\tthis.productQuantity = 0\n\n\t\t\t})\n\t\t\t.catch(function (error) {\n          \t\tconsole.log(error)\n      \t\t});\n\t\t}\t\n\t\t\n\t}\n}\n</script>\n\n\n<style scoped>\n\n.product_img_show_mini\n{\t\n\theight:100px;\n}\n\n.product_img_show_display\n{\n\theight:500px;\n}\n\n</style>\n\n"]}]}