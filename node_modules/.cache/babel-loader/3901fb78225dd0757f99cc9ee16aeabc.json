{"remainingRequest":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/babel-loader/lib/index.js!/Users/Med/Desktop/Perso/WEB/vue-interface/src/router/index.js","dependencies":[{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/src/router/index.js","mtime":1584181508687},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/babel-loader/lib/index.js","mtime":1583024830408}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vIERlZmF1bHQgVnVlcwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7IC8vIEFkZGl0aW9ubmFsIFZ1ZXMKCmltcG9ydCBIb21lIGZyb20gJy4uL2NvbXBvbmVudHMvSG9tZS52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpbi52dWUnOwppbXBvcnQgUHJvZHVjdEluZGV4IGZyb20gJy4uL2NvbXBvbmVudHMvUHJvZHVjdEluZGV4LnZ1ZSc7CmltcG9ydCBQcm9kdWN0U2hvdyBmcm9tICcuLi9jb21wb25lbnRzL1Byb2R1Y3RTaG93LnZ1ZSc7CmltcG9ydCBDYXJ0SW5kZXggZnJvbSAnLi4vY29tcG9uZW50cy9DYXJ0SW5kZXgudnVlJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIHJvdXRlczogW3sKICAgIHBhdGg6ICcqJywKICAgIHJlZGlyZWN0OiAnLycKICB9LCB7CiAgICBwYXRoOiAnLycsCiAgICByZWRpcmVjdDogJy9sb2dpbicKICB9LCB7CiAgICBwYXRoOiAnL2hvbWUnLAogICAgbmFtZTogJ2hvbWUnLAogICAgY29tcG9uZW50OiBIb21lCiAgfSwgewogICAgcGF0aDogJyonLAogICAgcmVkaXJlY3Q6ICcvJwogIH0sIHsKICAgIHBhdGg6ICcvY2FydCcsCiAgICBuYW1lOiAnY2FydF9pbmRleCcsCiAgICBjb21wb25lbnQ6IENhcnRJbmRleAogIH0sIHsKICAgIHBhdGg6ICcvbG9naW4nLAogICAgbmFtZTogJ2xvZ2luJywKICAgIGNvbXBvbmVudDogTG9naW4KICB9LCB7CiAgICBwYXRoOiAnL3Byb2R1Y3QnLAogICAgbmFtZTogJ3Byb2R1Y3RfaW5kZXgnLAogICAgY29tcG9uZW50OiBQcm9kdWN0SW5kZXgKICB9LCB7CiAgICBwYXRoOiAnL3Byb2R1Y3QvOmlkJywKICAgIG5hbWU6ICdwcm9kdWN0X3Nob3cnLAogICAgY29tcG9uZW50OiBQcm9kdWN0U2hvdwogIH1dCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgaXNBdXRoZW50aWNhdGVkID0gZmFsc2U7CiAgdmFyIGxvY2FsID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKTsKCiAgaWYgKGxvY2FsICE9IG51bGwpIHsKICAgIGlzQXV0aGVudGljYXRlZCA9IGxvY2FsLnVzZXJDb25uZWN0ZWQ7CiAgfQoKICBpZiAodG8ubmFtZSA9PSAnbG9naW4nICYmIGlzQXV0aGVudGljYXRlZCkgewogICAgbmV4dCh7CiAgICAgIG5hbWU6ICdob21lJwogICAgfSk7CiAgfQoKICBpZiAodG8ubmFtZSAhPT0gJ2xvZ2luJyAmJiAhaXNBdXRoZW50aWNhdGVkKSB7CiAgICBuZXh0KHsKICAgICAgbmFtZTogJ2xvZ2luJwogICAgfSk7CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/Users/Med/Desktop/Perso/WEB/vue-interface/src/router/index.js"],"names":["Vue","VueRouter","Home","Login","ProductIndex","ProductShow","CartIndex","use","router","mode","routes","path","redirect","name","component","beforeEach","to","from","next","isAuthenticated","local","JSON","parse","localStorage","getItem","userConnected"],"mappings":";AAAA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AAEAN,GAAG,CAACO,GAAJ,CAAQN,SAAR;AAEA,IAAIO,MAAM,GAAG,IAAIP,SAAJ,CAAc;AACzBQ,EAAAA,IAAI,EAAC,SADoB;AAEzBC,EAAAA,MAAM,EAAE,CACR;AACEC,IAAAA,IAAI,EAAC,GADP;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GADQ,EAKR;AACED,IAAAA,IAAI,EAAC,GADP;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GALQ,EASR;AACED,IAAAA,IAAI,EAAC,OADP;AAEEE,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,SAAS,EAAEZ;AAHb,GATQ,EAcR;AACES,IAAAA,IAAI,EAAC,GADP;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAdQ,EAkBR;AACED,IAAAA,IAAI,EAAC,OADP;AAEEE,IAAAA,IAAI,EAAE,YAFR;AAGEC,IAAAA,SAAS,EAAER;AAHb,GAlBQ,EAuBR;AACEK,IAAAA,IAAI,EAAC,QADP;AAEEE,IAAAA,IAAI,EAAE,OAFR;AAGEC,IAAAA,SAAS,EAAEX;AAHb,GAvBQ,EA4BR;AACEQ,IAAAA,IAAI,EAAC,UADP;AAEEE,IAAAA,IAAI,EAAE,eAFR;AAGEC,IAAAA,SAAS,EAAEV;AAHb,GA5BQ,EAiCR;AACEO,IAAAA,IAAI,EAAC,cADP;AAEEE,IAAAA,IAAI,EAAE,cAFR;AAGEC,IAAAA,SAAS,EAAET;AAHb,GAjCQ;AAFiB,CAAd,CAAb;AA0CAG,MAAM,CAACO,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAEpC,MAAIC,eAAe,GAAG,KAAtB;AACA,MAAIC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAZ;;AAEA,MAAGJ,KAAK,IAAI,IAAZ,EAAiB;AACfD,IAAAA,eAAe,GAAGC,KAAK,CAACK,aAAxB;AACD;;AAED,MAAIT,EAAE,CAACH,IAAH,IAAW,OAAX,IAAsBM,eAA1B,EAA0C;AACxCD,IAAAA,IAAI,CAAC;AAAEL,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAJ;AACD;;AAED,MAAIG,EAAE,CAACH,IAAH,KAAY,OAAZ,IAAuB,CAACM,eAA5B,EAA4C;AAC1CD,IAAAA,IAAI,CAAC;AAAEL,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAJ;AACD,GAFD,MAGK;AACHK,IAAAA,IAAI;AACL;AAEF,CApBD;AAsBA,eAAeV,MAAf","sourcesContent":["// Default Vues\nimport Vue from 'vue'\nimport VueRouter from 'vue-router'\n\n// Additionnal Vues\nimport Home from '../components/Home.vue'\nimport Login from '../components/Login.vue'\nimport ProductIndex from '../components/ProductIndex.vue'\nimport ProductShow from '../components/ProductShow.vue'\nimport CartIndex from '../components/CartIndex.vue'\n\nVue.use(VueRouter)\n\nvar router = new VueRouter({\n  mode:'history',\n  routes: [\n  {\n    path:'*',\n    redirect: '/'\n  },\n  {\n    path:'/',\n    redirect: '/login'\n  },\n  {\n    path:'/home',\n    name: 'home',\n    component: Home\n  },\n  {\n    path:'*',\n    redirect: '/'\n  },\n  {\n    path:'/cart',\n    name: 'cart_index',\n    component: CartIndex\n  },\n  {\n    path:'/login',\n    name: 'login',\n    component: Login\n  },\n  {\n    path:'/product',\n    name: 'product_index',\n    component: ProductIndex\n  },\n  {\n    path:'/product/:id',\n    name: 'product_show',\n    component: ProductShow\n  }]\n})\n\nrouter.beforeEach((to, from, next) => {\n  \n  var isAuthenticated = false\n  var local = JSON.parse(localStorage.getItem('user'))\n  \n  if(local != null){\n    isAuthenticated = local.userConnected\n  }     \n  \n  if (to.name == 'login' && isAuthenticated){\n    next({ name: 'home' })\n  }\n\n  if (to.name !== 'login' && !isAuthenticated){\n    next({ name: 'login' })\n  }\n  else {\n    next()\n  }\n\n})\n\nexport default router\n"]}]}