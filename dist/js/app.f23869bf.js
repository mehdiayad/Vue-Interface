(function(t){function e(e){for(var a,i,n=e[0],c=e[1],l=e[2],d=0,m=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,n=1;n<s.length;n++){var c=s[n];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0308":function(t,e,s){"use strict";var a=s("75b0"),r=s("e14f"),o=s("cfde").CronJob,i=new o("* * * * * *",(function(){console.log("cron call"),a["a"].getters.getUserConnected&&(r["a"].commit("addSessionTimeCounter",1),r["a"].commit("addSessionTimeRemaining",-1),r["a"].getters.getSessionTimeCounter==r["a"].getters.getSessionTimeLimit&&(console.log("[CRON] logout user each 10 minutes"),a["a"].commit("logout"),r["a"].commit("logout")))}));i.start(),e["a"]=i},"034f":function(t,e,s){"use strict";var a=s("85ec"),r=s.n(a);r.a},"0c53":function(t,e,s){},"1b62":function(t,e,s){"use strict";s("b65f"),s("b680"),s("d3b7"),s("ac1f"),s("25f0"),s("5319");var a={data:function(){return{user:userStore.getters.getUserAll}},methods:{formatPrice:function(t){var e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},getImgUrl:function(t){return"/images/products/"+t},isNotNull:function(t){return null!=t},cutString:function(t,e){return t.substring(0,e)},msToTime:function(t){var e=Math.trunc(t/3600),s=Math.trunc(t%3600/60),a=Math.trunc(t%3600%60);return e=e<10?"0"+e:e,s=s<10?"0"+s:s,a=a<10?"0"+a:a,e+":"+s+":"+a}}};e["a"]=a},"26ee":function(t,e,s){},"2cf2":function(t,e,s){"use strict";var a=s("2f62"),r=s("2b0e"),o=s("bfa9");r["a"].use(a["a"]);var i=new o["a"]({key:"navbar",storage:window.localStorage}),n={productSearch:null,categorySearch:0,cartNumber:0,categories:[]},c={setProductSearch:function(t,e){""==e&&(e=null),t.productSearch=e},setCategorySearch:function(t,e){t.categorySearch=e},setCartNumber:function(t,e){t.cartNumber=e},updateCartNumber:function(t,e){t.cartNumber+=e},setCategories:function(t,e){t.categories=e}},l={getProductSearch:function(t){return t.productSearch},getCategorySearch:function(t){return t.categorySearch},getCartNumber:function(t){return t.cartNumber},getCategories:function(t){return t.categories}},u=new a["a"].Store({state:n,mutations:c,getters:l,actions:{},plugins:[i.plugin],strict:!0});e["a"]=u},"3dfd":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-0 p-0",attrs:{id:"app"}},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[t.displayNavbar()?s("div",{staticClass:"col-12 col-sm-12 px-0"},[s("navbar")],1):t._e(),s("div",{staticClass:"router_view col-12 col-sm-12 px-0 text-center"},[s("router-view")],1),t.displayFootbar()?s("div",{staticClass:"col-12 col-sm-12 px-0"},[s("footbar")],1):t._e()])])])},r=[],o=(s("b0c0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid "},[s("div",{staticClass:"row bg-dark align-items-center"},[s("div",{staticClass:"col-12 col-sm-12 text-center alert-danger danger"},[s("div",{staticClass:"h5 py-1 my-0"},[t._v(" Durée de la session : "+t._s(t.sessionTimeRemaining)+" ")])]),s("div",{staticClass:"col-1 col-sm-1 text-center px-0"},[s("a",{staticClass:"btn mx-auto",on:{click:function(e){return t.goHomePage()}}},[s("h3",{staticClass:"text-white"},[t._v("VueJS")])])]),s("div",{staticClass:"col-2 col-sm-2"}),s("div",{staticClass:"col-6 col-sm-6 py-3 px-0"},[s("div",{staticClass:"input-group border rounded"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-group-prepend col-4 col-sm-4 m-0 p-0 border-0"},[s("select",{directives:[{name:"model",rawName:"v-model.number",value:t.categorySearch,expression:"categorySearch",modifiers:{number:!0}}],staticClass:"w-100 bg-info text-white",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.categorySearch=e.target.multiple?s:s[0]}}},t._l(t.categories,(function(e,a){return s("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(e)+" ")])})),0)]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.productSearch,expression:"productSearch"}],staticClass:"search-bar col-6 col-sm-6 m-0 pl-3 border-0",attrs:{placeholder:"Rechercher un produit"},domProps:{value:t.productSearch},on:{input:function(e){e.target.composing||(t.productSearch=e.target.value)}}}),s("div",{staticClass:"input-group-append col-2 col-sm-2 m-0 p-0 border-0"},[s("a",{staticClass:"btn py-0 mx-0 px-0 bg-info w-100",on:{click:function(e){return t.searchProducts()}}},[s("i",{staticClass:"fa fa-search fa-2x text-white px-2",attrs:{"aria-hidden":"true"}})])])])])])]),s("div",{staticClass:"col-2 col-sm-2"},[s("div",{staticClass:"dropdown show"},[s("a",{staticClass:"btn bg-white text-dark dropdown-toggle",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" "+t._s(t.user.userName)+" ")]),s("div",{staticClass:"dropdown-menu bg-white text-dark",attrs:{"aria-labelledby":"dropdownMenuLink"}},[s("a",{staticClass:"dropdown-item text-dark btn",on:{click:function(e){return t.showAccount()}}},[s("i",{staticClass:"fas fa-chevron-right"}),t._v(" Mon compte ")]),s("a",{staticClass:"dropdown-item text-dark btn",on:{click:function(e){return t.logout()}}},[s("i",{staticClass:"fas fa-chevron-right"}),t._v(" Deconnexion ")])])])]),s("div",{staticClass:"col-1 col-sm-1"},[s("div",{staticClass:"row"},[s("router-link",{attrs:{to:{name:"cart_index",params:{id:t.user.userId}}}},[s("div",{staticClass:"col-12 col-sm-12 text-white card_number"},[s("h4",[t._v(" "+t._s(t.cartNumber)+" ")])]),s("div",{staticClass:"col-12 col-sm-12 card_shop"},[s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"cart_index"}}},[s("i",{staticClass:"fas fa-shopping-cart fa-3x text-white"})])],1)])],1)]),s("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1","data-backdrop":"static",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body text-left"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-4 col-sm-4"},[t._v("Identifiant")]),s("div",{staticClass:"col-1 col-sm-1"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userId,expression:"user.userId"}],staticClass:"col-7 col-sm-7 bg-light border rounded",attrs:{disabled:""},domProps:{value:t.user.userId},on:{input:function(e){e.target.composing||t.$set(t.user,"userId",e.target.value)}}})]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-4 col-sm-4"},[t._v("Nom")]),s("div",{staticClass:"col-1 col-sm-1"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userNameModal,expression:"userNameModal"}],staticClass:"col-7 col-sm-7 border rounded",domProps:{value:t.userNameModal},on:{input:function(e){e.target.composing||(t.userNameModal=e.target.value)}}})]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-4 col-sm-4"},[t._v("Email")]),s("div",{staticClass:"col-1 col-sm-1"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userEmail,expression:"user.userEmail"}],staticClass:"col-7 col-sm-7 bg-light border rounded",attrs:{disabled:""},domProps:{value:t.user.userEmail},on:{input:function(e){e.target.composing||t.$set(t.user,"userEmail",e.target.value)}}})]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-4 col-sm-4"},[t._v("Clé d'acces")]),s("div",{staticClass:"col-1 col-sm-1"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userTokenAccess,expression:"user.userTokenAccess"}],staticClass:"col-7 col-sm-7 bg-light border rounded",attrs:{disabled:""},domProps:{value:t.user.userTokenAccess},on:{input:function(e){e.target.composing||t.$set(t.user,"userTokenAccess",e.target.value)}}})]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-4 col-sm-4"},[t._v("Date d'expiration")]),s("div",{staticClass:"col-1 col-sm-1"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userTokenExpiresAt,expression:"user.userTokenExpiresAt"}],staticClass:"col-7 col-sm-7 bg-light border rounded",attrs:{disabled:""},domProps:{value:t.user.userTokenExpiresAt},on:{input:function(e){e.target.composing||t.$set(t.user,"userTokenExpiresAt",e.target.value)}}})])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Fermer")]),s("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(e){return t.saveUser()}}},[t._v("Sauvegarder")])])])])])])])}),i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header bg-info text-white"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Informations")]),s("button",{staticClass:"close text-white",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],n={data:function(){return{categorySearch:navbarStore.getters.getCategorySearch,productSearch:navbarStore.getters.getProductSearch,userNameModal:userStore.getters.getUserName}},computed:{categories:function(){return navbarStore.getters.getCategories},cartNumber:function(){return navbarStore.getters.getCartNumber},sessionTimeRemaining:function(){return this.msToTime(sessionStore.getters.getSessionTimeRemaining)}},mounted:function(){this.getCategories(),this.getCartNumber()},methods:{getCategories:function(){var t=this,e="http://localhost:8888/Laravel-WS/public/api/category";axios.get(e).then((function(e){var s=e.data;t.fillCategories(s)})).catch((function(t){console.log("ERROR : "+t)}))},fillCategories:function(t){var e=[];e[0]="Toutes les categories";for(var s=0;s<t.length;s++)e[t[s].id]=t[s].name;navbarStore.commit("setCategories",e)},searchProducts:function(){navbarStore.commit("setCategorySearch",this.categorySearch),navbarStore.commit("setProductSearch",this.productSearch),componentsStore.commit("setKeyProductIndex",1),"product_index"==router.currentRoute.name?router.go():router.push({name:"product_index"})},getCartNumber:function(){var t="http://localhost:8888/Laravel-WS/public/api/cart/number";axios.get(t).then((function(t){var e=t.data;navbarStore.commit("setCartNumber",e)})).catch((function(t){console.log("ERROR : "+t)}))},logout:function(){userStore.commit("logout"),sessionStore.commit("logout")},goHomePage:function(){this.categorySearch=0,this.productSearch=null,navbarStore.commit("setProductSearch",null),navbarStore.commit("setCategorySearch",0),"home"==router.currentRoute.name?router.go():router.push({name:"home"})},showAccount:function(){$("#exampleModal").modal("show")},saveUser:function(){var t=this;if(this.userNameModal==userStore.getters.getUserName)$("#exampleModal").modal("hide");else{var e="http://localhost:8888/Laravel-WS/public/api/user/"+userStore.getters.getUserId;axios({method:"put",url:e,data:{name:this.userNameModal,email:userStore.getters.getUserEmail}}).then((function(e){var s=e.data;s&&(userStore.commit("setUserName",t.userNameModal),$("#exampleModal").modal("hide"))})).catch((function(t){console.log("ERROR : "+t)}))}}}},c=n,l=(s("cc22"),s("2877")),u=Object(l["a"])(c,o,i,!1,null,"3ced6275",null),d=u.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid bg-dark"},[s("h4",{staticClass:"text-center text-white p-3"},[t._v(" Version [ "+t._s(t.appVersion)+" ]")])])},p=[],f={data:function(){return{appVersion:"1.4-SNAPSHOT"}}},g=f,v=Object(l["a"])(g,m,p,!1,null,"541f20f7",null),h=v.exports,b={components:{navbar:d,footbar:h},mounted:function(){},methods:{displayNavbar:function(){return"login"!=this.$route.name},displayFootbar:function(){return"login"!=this.$route.name}}},C=b,_=(s("034f"),Object(l["a"])(C,a,r,!1,null,null,null));e["default"]=_.exports},4360:function(t,e){},"464e":function(t,e,s){"use strict";s("b0c0");var a=s("75b0"),r=s("a18c"),o=s("0308"),i=s("e14f"),n=window.addEventListener("storage",(function(t){null==t.key&&(console.log("listener clear local storage event"),"login"!=r["a"].currentRoute.name?(a["a"].commit("setUserEmail",null),a["a"].commit("setUserPassword",null),a["a"].commit("logout")):o["a"].stop()),"event-logout"==t.key&&(console.log("listener event logout"),i["a"].commit("logout"),a["a"].commit("logout")),"event-login"==t.key&&(console.log("listener event login"),i["a"].commit("login"),a["a"].commit("login"))}));e["a"]=n},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=o(t);return s(e)}function o(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id="4678"},"51ad":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e),function(t){s("e260"),s("e6cf"),s("cca6"),s("a79d");var e=s("2b0e"),a=s("8c4f"),r=s("2f62"),o=s("1b62"),i=s("eeb9"),n=s("a18c"),c=s("2cf2"),l=s("75b0"),u=s("e14f"),d=s("801c"),m=s("4360"),p=s.n(m),f=s("0308"),g=s("464e");e["a"].use(r["a"]),e["a"].use(a["a"]),e["a"].config.productionTip=!1,e["a"].mixin(o["a"]),window.axios=i["a"],window.router=n["a"],window.navbarStore=c["a"],window.userStore=l["a"],window.sessionStore=u["a"],window.componentsStore=d["a"],window.cronJob=f["a"],window.listenerStorage=g["a"];var v=new e["a"]({router:n["a"],store:p.a,render:function(t){return t(s("3dfd").default)}}).$mount("#app");t.vm=v,t.vuex=r["a"],t.store=p.a}.call(this,s("c8ba"))},"75b0":function(t,e,s){"use strict";s("b0c0");var a=s("2f62"),r=s("2b0e"),o=s("bfa9"),i=s("0308"),n=s("a18c");r["a"].use(a["a"]);var c=new o["a"]({key:"user",storage:window.localStorage}),l={userId:null,userName:null,userEmail:null,userPassword:null,userConnected:null,userInformations:null,userTokenAccess:null,userTokenRefresh:null,userTokenType:null,userTokenExpiresIn:null,userTokenExpiresAt:null,userTokenCreatedAt:null},u={setUserId:function(t,e){t.userId=e},setUserName:function(t,e){t.userName=e},setUserPassword:function(t,e){t.userPassword=e},setUserEmail:function(t,e){t.userEmail=e},setUserConnected:function(t,e){t.userConnected=e},setUserInformations:function(t,e){t.userInformations=e},setUserTokenAccess:function(t,e){t.userTokenAccess=e},setUserTokenRefresh:function(t,e){t.userTokenRefresh=e},setUserTokenType:function(t,e){t.userTokenType=e},setUserTokenExpiresIn:function(t,e){t.userTokenExpiresIn=e},setUserTokenExpiresAt:function(t,e){t.userTokenExpiresAt=e},setUserTokenCreatedAt:function(t,e){t.userTokenCreatedAt=e},login:function(t){t.userConnected=!0,i["a"].start(),localStorage.setItem("event-login",(new Date).toLocaleString()),null!=n["a"]&&"home"!=n["a"].currentRoute.name&&n["a"].push({name:"home"})},logout:function(t){t.userConnected=!1,t.userInformations="Disconnected",i["a"].stop(),localStorage.setItem("event-logout",(new Date).toLocaleString()),null!=n["a"]&&"login"!=n["a"].currentRoute.name&&n["a"].push({name:"login"})}},d={getUserId:function(t){return t.userId},getUserName:function(t){return t.userName},getUserPassword:function(t){return t.userPassword},getUserEmail:function(t){return t.userEmail},getUserConnected:function(t){return t.userConnected},getUserInformations:function(t){return t.userInformations},getUserTokenAccess:function(t){return t.userTokenAccess},getUserTokenRefresh:function(t){return t.userTokenRefresh},getUserTokenType:function(t){return t.userTokenType},getUserTokenExpiresIn:function(t){return t.userTokenExpiresIn},getUserTokenExpiresAt:function(t){return t.userTokenExpiresAt},getUserTokenCreatedAt:function(t){return t.userTokenCreatedAt},getUserAll:function(t){return t}},m=new a["a"].Store({state:l,mutations:u,getters:d,actions:{},plugins:[c.plugin],strict:!0});e["a"]=m},"801c":function(t,e,s){"use strict";var a=s("2f62"),r=s("2b0e"),o=s("bfa9");r["a"].use(a["a"]);var i=new o["a"]({key:"components",storage:window.localStorage}),n={keyProductIndex:0,keyProductShow:0,keyCartIndex:0,keyCartConfirm:0,keyLogin:0,keyNavbar:0,keyFootbar:0,keyHome:0},c={setKeyProductIndex:function(t,e){t.keyProductIndex+=e},setkeyProductShow:function(t,e){t.keyProductShow+=e},setkeyCartIndex:function(t,e){t.keyCartIndex+=e},setkeyCartConfirm:function(t,e){t.keyCartConfirm+=e},setkeyLogin:function(t,e){t.keyLogin+=e},setkeyNavbar:function(t,e){t.keyNavbar+=e},setkeyFootbar:function(t,e){t.keyFootbar+=e},setkeyHome:function(t,e){t.keyHome+=e}},l={getKeyProductIndex:function(t){return t.keyProductIndex},getkeyProductShow:function(t){return t.keyProductShow},getkeyCartIndex:function(t){return t.keyCartIndex},getkeyCartConfirm:function(t){return t.keyCartConfirm},getkeyLogin:function(t){return t.keyLogin},getkeyNavbar:function(t){return t.keyNavbar},getkeyFootbar:function(t){return t.keyFootbar},getkeyHome:function(t){return t.keyHome}},u=new a["a"].Store({state:n,mutations:c,getters:l,actions:{},plugins:[i.plugin],strict:!0});e["a"]=u},"84f0":function(t,e,s){},"85ec":function(t,e,s){},a18c:function(t,e,s){"use strict";s("b0c0");var a=s("2b0e"),r=s("8c4f"),o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-sm-12"},[s("img",{staticClass:"home_img w-100",attrs:{alt:"home image ",src:"/images/home_overview.jpg"}})])])])}],n={mounted:function(){}},c=n,l=(s("a854"),s("2877")),u=Object(l["a"])(c,o,i,!1,null,"1d6bef43",null),d=u.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row pt-2"},[s("div",{staticClass:"col-8 col-sm-8 mx-auto mt-5",staticStyle:{"max-width":"600px"}},[s("div",{staticClass:"card mx-auto text-left"},[s("div",{staticClass:"card-header bg-info text-white"},[t._v(" Connexion ")]),s("div",{staticClass:"card-body"},[s("form",{attrs:{role:"form"}},[s("div",{staticClass:"form-group row text-center"},[s("div",{staticClass:"col-6 col-sm-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.passport.mode,expression:"loginForm.passport.mode"}],attrs:{type:"radio",id:"grant",value:"grant"},domProps:{checked:t._q(t.loginForm.passport.mode,"grant")},on:{change:function(e){return t.$set(t.loginForm.passport,"mode","grant")}}}),s("label",{staticClass:"pl-1",attrs:{for:"grant"}},[t._v("Acces generique")])]),s("div",{staticClass:"col-6 col-sm-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.passport.mode,expression:"loginForm.passport.mode"}],attrs:{type:"radio",id:"client",value:"client",disabled:""},domProps:{checked:t._q(t.loginForm.passport.mode,"client")},on:{change:function(e){return t.$set(t.loginForm.passport,"mode","client")}}}),t._m(0)])]),s("div",{staticClass:"form-group"},[s("div",[t._v(" Email ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.data.email,expression:"loginForm.data.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.loginForm.data.email},on:{input:function(e){e.target.composing||t.$set(t.loginForm.data,"email",e.target.value)}}})]),"grant"==t.loginForm.passport.mode?s("div",{staticClass:"form-group"},[s("div",[t._v(" Mot de passe ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.data.password,expression:"loginForm.data.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.loginForm.data.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.canLogin()},input:function(e){e.target.composing||t.$set(t.loginForm.data,"password",e.target.value)}}})]):t._e(),"client"==t.loginForm.passport.mode?s("div",{staticClass:"form-group"},[s("div",[t._v(" Code "),s("a",{staticClass:"btn btn-info p-1 m-1 text-white",on:{click:function(e){return t.generateUrl()}}},[t._v(" Generer le code ")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.data.code,expression:"loginForm.data.code"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.loginForm.data.code},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.canLogin()},input:function(e){e.target.composing||t.$set(t.loginForm.data,"code",e.target.value)}}})]):t._e(),s("div",{staticClass:"form-group text-right"},[s("a",{staticClass:"btn btn-info text-white px-5",on:{click:function(e){return t.canLogin()}}},[t._v("Valider")])]),t.displayAlert?s("div",{staticClass:"form-group text-left alert alert-danger"},[s("div",[t._v(" Error ["+t._s(t.loginForm.error.code)+"] : "+t._s(t.loginForm.error.type)+" ")])]):t._e(),t.displayAlert?s("div",{staticClass:"form-group text-left alert alert-danger"},[s("div",[t._v(" "+t._s(t.loginForm.error.description)+" ")])]):t._e()])])])])])])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"pl-1",attrs:{for:"client"}},[s("del",[t._v("Acces client")])])}],f=(s("a4d3"),s("e01a"),s("d3b7"),s("9911"),s("96cf"),s("1da1")),g={data:function(){return{loginForm:{passport:{mode:"grant",link:null},data:{email:userStore.getters.getUserEmail,password:userStore.getters.getUserPassword,code:null,validToken:null},error:{code:null,type:null,description:null,alert:!1,time:3e3}}}},computed:{displayAlert:function(){return this.loginForm.error.alert}},mounted:function(){cronJob.stop()},methods:{setErrorAlert:function(t){var e=this;e.loginForm.error.alert=t,setTimeout((function(){e.loginForm.error.alert=!t}),this.loginForm.error.time)},loginSimple:function(){var t="http://localhost:8888/Laravel-WS/public/api/passportAuthSimple",e=this;axios({method:"post",url:t,data:e.loginForm.data}).then((function(t){t.data.userConnected?(sessionStore.commit("login"),userStore.commit("setUserInformations",t.data.userInformations),userStore.commit("login")):(e.loginForm.error.code=t.data.errorCode,e.loginForm.error.type=t.data.errorType,e.loginForm.error.description=t.data.errorDescription,e.setErrorAlert(!0))})).catch((function(t){console.log(t),e.loginForm.error.code=500,e.loginForm.error.type="network_error",e.loginForm.error.description=t,e.setErrorAlert(!0)}))},loginPassport:function(){var t="http://localhost:8888/Laravel-WS/public/api/passportAuthGrant";"client"==this.loginForm.passport.mode&&(t="http://localhost:8888/Laravel-WS/public/api/passportAuthClient");var e=this;axios({method:"post",url:t,data:this.loginForm.data}).then((function(t){t.data.userConnected?(axios.defaults.headers.common["Authorization"]="Bearer "+t.data.accessToken,userStore.commit("setUserEmail",e.loginForm.data.email),userStore.commit("setUserPassword",e.loginForm.data.password),userStore.commit("setUserId",t.data.userId),userStore.commit("setUserName",t.data.userName),userStore.commit("setUserInformations",t.data.userInformations),userStore.commit("setUserTokenType",t.data.tokenType),userStore.commit("setUserTokenExpiresIn",t.data.expiresIn),userStore.commit("setUserTokenExpiresAt",t.data.expiresAt),userStore.commit("setUserTokenCreatedAt",t.data.createdAt),userStore.commit("setUserTokenAccess",t.data.accessToken),userStore.commit("setUserTokenRefresh",t.data.refreshToken),sessionStore.commit("login"),userStore.commit("login")):(e.loginForm.error.code=t.data.errorCode,e.loginForm.error.type=t.data.errorType,e.loginForm.error.description=t.data.errorDescription,e.setErrorAlert(!0))})).catch((function(t){console.log(t),e.loginForm.error.code=500,e.loginForm.error.type="network_error",e.loginForm.error.description=t,e.setErrorAlert(!0)}))},generateUrl:function(t){var e="http://localhost:8888/Laravel-WS/public/api/passportGenerateAuthorizeUrl",s=this;axios({method:"post",url:e,data:this.loginForm.data}).then((function(t){null==t.data.errorCode?(s.loginForm.passport.link=t.data.apiUrl,window.open(s.loginForm.passport.link,"_blank")):(s.loginForm.error.code=t.data.errorCode,s.loginForm.error.type=t.data.errorType,s.loginForm.error.description=t.data.errorDescription,s.setErrorAlert(!0))})).catch((function(t){console.log(t)}))},testToken:function(){var t=this,e="http://localhost:8888/Laravel-WS/public/api/passportTestToken";return new Promise((function(s,a){axios({method:"get",url:e}).then((function(e){t.loginForm.data.validToken=!0,s("success")})).catch((function(e){console.log(e),t.loginForm.data.validToken=!1,s("faillure")}))}))},canLogin:function(){var t=!1;"grant"==this.loginForm.passport.mode&&null!=this.loginForm.data.email&&null!=this.loginForm.data.password&&this.loginForm.data.email.length>0&&this.loginForm.data.password.length>0&&(t=!0),"client"==this.loginForm.passport.mode&&null!=this.loginForm.data.email&&null!=this.loginForm.data.code&&this.loginForm.data.email.length>0&&this.loginForm.data.code.length>0&&(t=!0),1==t?this.dologin():window.alert("Veuillez remplir tous les champs avant de cliquer sur valider")},dologin:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.testToken();case 2:this.loginForm.data.validToken&&"grant"==this.loginForm.passport.mode&&userStore.getters.getUserEmail==this.loginForm.data.email?this.loginSimple():this.loginPassport();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},v=g,h=Object(l["a"])(v,m,p,!1,null,"6cedb9fa",null),b=h.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{key:t.componentKeyProductIndex,staticClass:"container-fluid text-left"},[t.products.data.length>0?s("div",{staticClass:"row"},t._l(t.products.data,(function(e){return s("div",{key:e.id,staticClass:"col-4 col-sm-4 mt-3"},[s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"product_show",params:{id:e.id}}}},[s("div",{staticClass:"mx-auto h-100 text-left"},[s("img",{staticClass:"product_img mx-auto d-block",attrs:{alt:"product img",src:t.getImgUrl(e.img_overview)}}),s("h5",{staticClass:"product_price mt-2"},[t._v(" "+t._s(t.formatPrice(e.price))+" € ")]),s("div",{staticClass:"product_desc small"},[t._v(" "+t._s(e.description_title)+" ")])])])],1)})),0):t._e(),t.products.data.length>0?s("div",{staticClass:"row"},[s("div",{staticClass:"col-4 col-sm-4 mx-auto text-white mt-3 mb-3"},[t.canGoBefore()?s("span",[s("a",{staticClass:"btn btn-info text-white mx-1",on:{click:function(e){return t.previousPage()}}},[t._v(" Precedent ")])]):s("span",[s("a",{staticClass:"btn btn-info text-white disabled mx-1",on:{click:function(e){return t.previousPage()}}},[t._v(" Precedent ")])]),s("span",{staticClass:"text text-dark mx-1"},[t._v(" "+t._s(t.products.currentPage)+" of "+t._s(t.products.lastPage)+" ")]),t.canGoAfter()?s("span",[s("a",{staticClass:"btn btn-info text-white mx-1",on:{click:function(e){return t.nextPage()}}},[t._v(" Suivant ")])]):s("span",[s("a",{staticClass:"btn btn-info text-white disabled mx-1",on:{click:function(e){return t.nextPage()}}},[t._v(" Suivant ")])])])]):t._e(),0==t.products.data.length?s("div",{staticClass:"mt-3"},[s("div",{staticClass:"h3"},[t._v(" Aucun produit ne correspond a votre recherche ")]),s("div",{staticClass:"h5"},[t._v(" Essayez de vérifier votre orthographe ou d’utiliser des termes plus généraux ")])]):t._e()])},_=[],y={data:function(){return{products:{data:[],page:1,totalProducts:null,currentPage:null,lastPage:null,nextPageUrl:null,previousPageUrl:null},navbarForm:{productSearch:navbarStore.getters.getProductSearch,categorySearch:navbarStore.getters.getCategorySearch,pagination:10}}},computed:{componentKeyProductIndex:function(){return componentsStore.getters.getKeyProductIndex}},mounted:function(){this.getProducts(this.products.page)},methods:{getProducts:function(t){var e=this,s="http://localhost:8888/Laravel-WS/public/api/product/list?page="+t;axios({method:"post",url:s,data:this.navbarForm}).then((function(t){e.products.data=t.data.data,e.products.page=t.data.current_page,e.products.totalProducts=t.data.total,e.products.currentPage=t.data.current_page,e.products.lastPage=t.data.last_page,e.products.nextPageUrl=t.data.next_page_url,e.products.previousPageUrl=t.data.prev_page_url})).catch((function(t){console.log(t)}))},canGoBefore:function(){return this.products.currentPage>1},canGoAfter:function(){return this.products.currentPage<this.products.lastPage},previousPage:function(){this.canGoBefore()&&(this.products.page--,this.getProducts(this.products.page))},nextPage:function(){this.canGoAfter()&&(this.products.page++,this.getProducts(this.products.page))}}},w=y,x=(s("be83"),Object(l["a"])(w,C,_,!1,null,"2f9ebb0f",null)),k=x.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid pt-1"},[s("div",{staticClass:"row pt-3"},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.displayAlertAddSuccess,expression:"displayAlertAddSuccess"}],staticClass:"col-12 col-sm-12 text-center"},[s("div",{staticClass:"col-6 col-sm-6 mx-auto border rounded py-2 my-2 alert alert-success"},[s("div",[t._v(" Votre produit a bien ete ajoute au panier ")])])])]),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.displayAlertAddFaillure,expression:"displayAlertAddFaillure"}],staticClass:"col-12 col-sm-12 text-center"},[s("div",{staticClass:"col-6 col-sm-6 mx-auto border rounded py-2 my-2 alert alert-danger"},[s("div",[t._v(" Vous ne pouvez pas ajouter plus de 15 quantite pour un article")])])])]),s("div",{staticClass:"col-1 col-sm-1"},[s("div",{staticClass:"container-fluid p-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-sm-12"},[s("a",{attrs:{href:"#"},on:{click:function(e){return t.changeImg(t.product.data.img1)}}},[s("img",{staticClass:"product_img_show_mini product_img_show_1 img-fluid  mt-3 border rounded w-100",attrs:{alt:"product_img_show_1",src:t.getImgUrl(t.product.data.img1)}})])]),s("div",{staticClass:"col-12 col-sm-12"},[s("a",{attrs:{href:"#"},on:{click:function(e){return t.changeImg(t.product.data.img2)}}},[s("img",{staticClass:"product_img_show_mini product_img_show_1 img-fluid  mt-3 border rounded w-100",attrs:{alt:"product_img_show_1",src:t.getImgUrl(t.product.data.img2)}})])]),s("div",{staticClass:"col-12 col-sm-12"},[s("a",{attrs:{href:"#"},on:{click:function(e){return t.changeImg(t.product.data.img3)}}},[s("img",{staticClass:"product_img_show_mini product_img_show_1 img-fluid  mt-3 border rounded w-100",attrs:{alt:"product_img_show_1",src:t.getImgUrl(t.product.data.img3)}})])])])])]),s("div",{staticClass:"col-4 col-sm-4"},[s("div",{staticClass:"col-12 col-sm-12"},[s("img",{staticClass:"product_img_show_display img-fluid w-100",attrs:{alt:"product_img_display",id:"product_img_show_display",src:t.getImgUrl(t.product.data.img1)}})])]),s("div",{staticClass:"col-4 col-sm-4 text-left"},[s("h5",[t._v(" "+t._s(t.product.data.description_title))]),s("p",{staticClass:"pb-0 mb-0"},[t._v(" De "),s("span",{staticClass:"text-primary h5"},[t._v(t._s(t.product.data.brand))])]),t._l(5,(function(e){return s("span",{key:e},[e<=t.product.data.score?s("i",{staticClass:"fas fa-star text-dark"}):s("i",{staticClass:"far fa-star text-dark"})])})),s("div",{staticClass:"pb-1 mb-2 bg-dark"}),s("p",[t._v(" Prix : "),s("span",{staticClass:"text-danger h5"},[t._v(t._s(t.formatPrice(t.product.data.price))+" € ")])]),s("ul",t._l(t.product.descriptions,(function(e,a){return s("span",{key:a},[e.length>1?s("li",[t._v(" "+t._s(e)+" ")]):t._e()])})),0)],2),s("div",{staticClass:"col-3 col-sm-3"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row text-left"},[s("div",{staticClass:"col-9 col-sm-9 border rounded p-3 mx-auto"},[t.stockIsEnough(t.product.data.stock)?s("div",[s("h4",{staticClass:"text-primary"},[t._v(" En Stock ")]),s("h5",{staticClass:"mt-5"},[t._v(" Quantite : "),s("select",{directives:[{name:"model",rawName:"v-model.number",value:t.product.quantitySelected,expression:"product.quantitySelected",modifiers:{number:!0}}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.$set(t.product,"quantitySelected",e.target.multiple?s:s[0])}}},t._l(15,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)])]):s("div",[s("h4",{staticClass:"text-danger"},[t._v(" Plus que "+t._s(t.product.data.stock)+" restants ")]),s("h5",{staticClass:"mt-5"},[t._v(" Quantite : "),s("select",{directives:[{name:"model",rawName:"v-model.number",value:t.product.quantitySelected,expression:"product.quantitySelected",modifiers:{number:!0}}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.$set(t.product,"quantitySelected",e.target.multiple?s:s[0])}}},t._l(t.product.data.stock,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)])]),s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-info w-100 mt-3",on:{click:function(e){return t.getCartProduct()}}},[t._v(" Ajouter au panier ")]),s("router-link",{attrs:{to:{name:"cart_index",params:{id:t.user.userId}}}},[s("button",{staticClass:"btn btn-danger w-100 mt-3"},[t._v(" Voir le panier ")])])],1)])])])])],1)])},j=[],T=(s("ac1f"),s("1276"),{data:function(){return{product:{data:[],descriptions:[],quantitySelected:1,quantityStored:0},addAlert:{success:!1,faillure:!1}}},mounted:function(){this.getProduct(this.$route.params.id)},computed:{displayAlertAddSuccess:function(){return this.addAlert.success},displayAlertAddFaillure:function(){return this.addAlert.faillure}},methods:{stockIsEnough:function(t){return t>=15},setAlertAddSuccess:function(t){var e=this;e.addAlert.success=t,setTimeout((function(){e.addAlert.success=!t}),3e3)},setAlertAddFaillure:function(t){var e=this;e.addAlert.faillure=t,setTimeout((function(){e.addAlert.faillure=!t}),3e3)},getProduct:function(t){var e=this,s="http://localhost:8888/Laravel-WS/public/api/product/"+t;axios.get(s).then((function(t){e.product.data=t.data,e.product.descriptions=e.product.data.description_product.split(".")})).catch((function(t){console.log(t)}))},changeImg:function(t){document.getElementById("product_img_show_display").src=this.getImgUrl(t)},getCartProduct:function(){var t=this,e="http://localhost:8888/Laravel-WS/public/api/cart/product";axios({method:"post",url:e,data:{user_id:this.user.userId,product_id:this.product.data.id}}).then((function(e){var s=e.data;s.length>0&&(t.product.quantityStored=e.data[0].product_quantity),t.addProductCart()})).catch((function(t){console.log(t)}))},addProductCart:function(){var t=this;if(this.product.quantityStored+this.product.quantitySelected>15)this.setAlertAddFaillure(!0);else{var e="http://localhost:8888/Laravel-WS/public/api/cart";axios({method:"post",url:e,data:{user_id:this.user.userId,product_id:this.product.data.id,product_price:this.product.data.price,product_quantity:this.product.quantitySelected}}).then((function(e){e.data.isStored&&(navbarStore.commit("updateCartNumber",t.product.quantitySelected),t.setAlertAddSuccess(!0),t.product.quantitySelected=1)})).catch((function(t){console.log(t)}))}},addToCart:function(){this.getCartProduct(),this.addProductCart()}}}),P=T,A=(s("f3bf"),Object(l["a"])(P,S,j,!1,null,"2bc7020b",null)),F=A.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid pt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-9 col-sm-9"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.displayAlertUpdate,expression:"displayAlertUpdate"}],staticClass:"col-12 col-sm-12 text-center"},[s("div",{staticClass:"col-6 col-sm-6 mx-auto border rounded py-2 my-2 alert-success success"},[s("div",[t._v(" Votre produit a bien ete modifie ")])])])]),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.displayAlertDelete,expression:"displayAlertDelete"}],staticClass:"col-12 col-sm-12 text-center"},[s("div",{staticClass:"col-6 col-sm-6 mx-auto border rounded py-2 my-2 alert-danger danger"},[s("div",[t._v(" Votre produit a bien ete supprime ")])])])]),t._m(0),s("div",{staticClass:"container-fluid"},[t.carts.data.length>0?s("div",t._l(t.carts.data,(function(e,a){return s("div",{key:e.id,staticClass:"col-12 col-sm-12",attrs:{index:a}},[s("div",{staticClass:"row pt-3"},[s("div",{staticClass:"col-3 col-sm-3"},[s("img",{staticClass:"product_img_show_mini product_img_show_1 img-fluid  mt-3 w-100",attrs:{alt:"product overview",src:t.getImgUrl(e.img_overview)}})]),s("div",{staticClass:"col-7 col-sm-7 text-left"},[s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"product_show",params:{id:e.product_id}}}},[s("div",{staticClass:"description_title"},[t._v(" "+t._s(e.description_title)+" ")])]),s("div",{staticClass:"mt-2"},[t._v(" Quantite : "),s("select",{directives:[{name:"model",rawName:"v-model.number",value:e.product_quantity,expression:"cart.product_quantity",modifiers:{number:!0}}],on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.$set(e,"product_quantity",s.target.multiple?a:a[0])}}},t._l(15,(function(e){return s("option",{key:e},[t._v(" "+t._s(e)+" ")])})),0),s("a",{staticClass:"btn btn-info text-white ml-3",on:{click:function(e){return t.updateCart(a)}}},[t._v(" Modifier")])]),s("div",{staticClass:"mt-3"},[s("a",{staticClass:"btn btn-danger text-white w-50",on:{click:function(e){return t.deleteCart(a)}}},[t._v(" Supprimer")])])],1),s("div",{staticClass:"col-2 col-sm-2"},[s("h4",{staticClass:"text-danger"},[t._v(" "+t._s(t.formatPrice(e.price))+" € ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.notLastElement(e),expression:"notLastElement(cart)"}],staticClass:"col-12 col-sm-12"},[s("div",{staticClass:"bg-dark pt-1"})])])])})),0):s("div",{staticClass:"text-left mt-2"},[s("h4",[t._v(" Votre panier est vide ")]),s("h6",[t._v(" Visitez notre liste de produits a travers la barre de recherche")])])])],1)])]),s("div",{staticClass:"col-3 col-sm-3"},[s("div",{staticClass:"px-3 py-3 bg-white text-center border rounded"},[s("h4",{staticClass:"text-left"},[t._v(" Total : "),s("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.formatPrice(t.carts.totalCartPrice))+" €")])]),s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"cart_confirm",params:{id:t.user.userId}}}},[s("button",{staticClass:"btn btn-info rounded text-white w-100",on:{click:function(e){return t.displayCartAlert(e)}}},[t._v(" Passer la commande")])])],1)])])])},E=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-sm-12 text-left"},[s("h3",[t._v(" Mon Panier")]),s("div",{staticClass:"bg-dark pt-1"})])}],N=(s("a434"),{data:function(){return{carts:{data:[],totalCartPrice:0},alertCart:{update:!1,delete:!1}}},mounted:function(){this.getCart(this.user.userId)},computed:{displayAlertUpdate:function(){return this.alertCart.update},displayAlertDelete:function(){return this.alertCart.delete}},methods:{setAlertUpdate:function(t){var e=this;e.alertCart.update=t,setTimeout((function(){e.alertCart.update=!t}),1e3)},setAlertDelete:function(t){var e=this;e.alertCart.delete=t,setTimeout((function(){e.alertCart.delete=!t}),1e3)},displayCartAlert:function(t){0==this.carts.data&&(window.alert("Votre panier est vide, vous ne pouvez pas passer de commande"),t.preventDefault())},getCart:function(t){var e=this,s="http://localhost:8888/Laravel-WS/public/api/cart";axios.get(s).then((function(t){e.carts.data=t.data,e.getTotalPriceCart()})).catch((function(t){console.log(t)}))},notLastElement:function(t){var e=this.carts.data[this.carts.data.length-1];return t!=e},updateCart:function(t){var e=this,s=this.carts.data[t],a=s.cart_id,r="http://localhost:8888/Laravel-WS/public/api/cart/"+a;s.cart_price=s.price*s.product_quantity,axios({method:"put",url:r,data:{user_id:this.user.userId,product_id:s.product_id,product_quantity:s.product_quantity,product_price:s.price}}).then((function(t){e.getTotalPriceCart(),e.getCartNumber(),e.setAlertUpdate(!0)})).catch((function(t){console.log(t)}))},deleteCart:function(t){var e=this,s=this.carts.data[t],a=s.cart_id,r="http://localhost:8888/Laravel-WS/public/api/cart/"+a;axios({method:"delete",url:r}).then((function(s){e.carts.data.splice(t,1),e.getTotalPriceCart(),e.getCartNumber(),e.setAlertDelete(!0)})).catch((function(t){console.log(t)}))},getTotalPriceCart:function(){this.carts.totalCartPrice=0;for(var t=0;t<this.carts.data.length;t++)this.carts.totalCartPrice+=this.carts.data[t].cart_price},getCartNumber:function(){for(var t=0,e=0;e<this.carts.data.length;e++)t+=this.carts.data[e].product_quantity;navbarStore.commit("setCartNumber",t)}}}),I=N,L=(s("ca97"),Object(l["a"])(I,U,E,!1,null,"1e20bf7e",null)),R=L.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid pt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-9 col-sm-9"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-11 col-sm-11 mx-auto"},[null!=t.adresses.billingDefault?s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row text-left"},[t._m(0),s("div",{staticClass:"col-4 col-sm-4"},[s("div",[t._v(" "+t._s(t.adresses.billingDefault.full_name))]),s("div",[t._v(" "+t._s(t.adresses.billingDefault.address))]),s("div",[t._v(" "+t._s(t.adresses.billingDefault.postal_code+","+t.adresses.billingDefault.city))]),s("div",[t._v(" "+t._s(t.adresses.billingDefault.country))])]),t._m(1)])]):t._e(),s("div",{staticClass:"bg-dark pt-1 my-2 w-100"}),null!=t.adresses.shippingDefault?s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row text-left"},[t._m(2),s("div",{staticClass:"col-4 col-sm-4"},[s("div",[t._v(" "+t._s(t.adresses.shippingDefault.full_name))]),s("div",[t._v(" "+t._s(t.adresses.shippingDefault.address))]),s("div",[t._v(" "+t._s(t.adresses.shippingDefault.postal_code+","+t.adresses.shippingDefault.city))]),s("div",[t._v(" "+t._s(t.adresses.shippingDefault.country))])]),t._m(3)])]):t._e(),s("div",{staticClass:"bg-dark pt-1 my-2 w-100"}),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row text-left"},[t._m(4),t._l(t.carts.data,(function(e,a){return s("div",{key:e.id,staticClass:"col-12 col-sm-12",attrs:{index:a}},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row pt-3"},[s("div",{staticClass:"col-3 col-sm-3"},[s("img",{staticClass:"product_img_show_mini product_img_show_1 img-fluid  mt-3 w-100",attrs:{alt:"product overview",src:t.getImgUrl(e.img_overview)}})]),s("div",{staticClass:"col-9 col-sm-9 text-left"},[s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"product_show",params:{id:e.product_id}}}},[s("div",{staticClass:"description_title"},[t._v(" "+t._s(e.description_title)+" ")])]),s("div",{staticClass:"mt-2"},[t._v(" Quantite : "+t._s(e.product_quantity)+" ")]),s("div",{staticClass:"mt-2"},[t._v(" Prix unitaire : "+t._s(t.formatPrice(e.price))+" €")]),s("div",{staticClass:"mt-2 text-danger font-weight-bold"},[t._v(" Prix total : "+t._s(t.formatPrice(e.cart_price))+" € ")])],1)])])])}))],2)])])])])]),s("div",{staticClass:"col-3 col-sm-3"},[s("div",{staticClass:"px-3 py-3 bg-white text-left border rounded"},[s("a",{staticClass:"btn btn-danger text-white w-100 mb-2"},[t._v(" Acheter ")]),s("div",{staticClass:"small"},[t._v(" En passant votre commande, vous acceptez les Conditions générales de vente. Veuillez consulter notre Notice : données personnelles, notre Notice Cookies et notre Notice Annonces publicitaires basées sur vos centres d’intérêt. ")]),s("div",{staticClass:"bg-dark pt-1 w-100 my-3"}),s("h5",{staticClass:"text-center"},[t._v(" Recapitulatif de la commande ")]),s("h5",{staticClass:"text-danger"},[t._v(" Montant total : "),s("span",{staticClass:"float-right"},[t._v(" "+t._s(t.formatPrice(t.carts.totalCartPrice))+" € ")])])])])])])},z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-5 col-sm-5"},[s("h5",[t._v(" 1. Adresse de facturation ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3 col-sm-3"},[s("a",{staticClass:"btn btn-dark border rounded text-white w-100 mt-4"},[t._v(" Modifier")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-5 col-sm-5"},[s("h5",[t._v(" 2. Adresse de livraison ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3 col-sm-3"},[s("a",{staticClass:"btn btn-dark border rounded text-white w-100 mt-4"},[t._v(" Modifier")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-sm-12"},[s("h5",[t._v(" 3. Verification de la commande ")])])}],D={data:function(){return{adresses:{billing:[],billingDefault:null,shipping:[],shippingDefault:null},carts:{data:[],totalCartPrice:0}}},mounted:function(){this.getAddresses(),this.getCarts()},methods:{getAddresses:function(){var t=this,e="http://localhost:8888/Laravel-WS/public/api/address";axios.get(e).then((function(e){t.adresses.billing=e.data.billing,t.adresses.shipping=e.data.shipping;for(var s=0;s<t.adresses.billing.length;s++)if(t.adresses.billing[s].is_default){t.adresses.billingDefault=t.adresses.billing[s];break}for(s=0;s<t.adresses.shipping.length;s++)if(t.adresses.shipping[s].is_default){t.adresses.shippingDefault=t.adresses.shipping[s];break}})).catch((function(t){console.log(t)}))},getCarts:function(){var t=this,e="http://localhost:8888/Laravel-WS/public/api/cart";axios.get(e).then((function(e){t.carts.data=e.data,t.getTotalPriceCart()})).catch((function(t){console.log(t)}))},notLastElement:function(t){var e=this.carts.data[this.carts.data.length-1];return t!=e},getTotalPriceCart:function(){this.carts.totalCartPrice=0;for(var t=0;t<this.carts.data.length;t++)this.carts.totalCartPrice+=this.carts.data[t].cart_price}}},q=D,O=(s("eafe"),Object(l["a"])(q,$,z,!1,null,"d59d64c0",null)),M=O.exports,W=s("75b0");a["a"].use(r["a"]);var V=new r["a"]({mode:"history",routes:[{path:"*",redirect:"/"},{path:"/",redirect:"/login"},{path:"/home",name:"home",component:d},{path:"*",redirect:"/"},{path:"/cart",name:"cart_index",component:R},{path:"/cart/confirm",name:"cart_confirm",component:M},{path:"/login",name:"login",component:b},{path:"/product",name:"product_index",component:k},{path:"/product/:id",name:"product_show",component:F}]});V.beforeEach((function(t,e,s){"login"==t.name?1==W["a"].getters.getUserConnected?s({name:"home"}):s():0==W["a"].getters.getUserConnected?s({name:"login"}):s()}));e["a"]=V},a854:function(t,e,s){"use strict";var a=s("51ad"),r=s.n(a);r.a},b6e1:function(t,e,s){},be83:function(t,e,s){"use strict";var a=s("b6e1"),r=s.n(a);r.a},ca97:function(t,e,s){"use strict";var a=s("0c53"),r=s.n(a);r.a},cc22:function(t,e,s){"use strict";var a=s("26ee"),r=s.n(a);r.a},d467:function(t,e,s){},e14f:function(t,e,s){"use strict";var a=s("2f62"),r=s("2b0e"),o=s("bfa9");r["a"].use(a["a"]);var i=new o["a"]({key:"session",storage:window.localStorage}),n={sessionTimeCounter:null,sessionTimeRemaining:null,sessionTimeLimit:null},c={addSessionTimeCounter:function(t,e){t.sessionTimeCounter+=e},addSessionTimeRemaining:function(t,e){t.sessionTimeRemaining+=e},addSessionTimeLimit:function(t,e){t.sessionTimeLimit+=e},setSessionTimeLimit:function(t,e){t.sessionTimeLimit=e},setSessionTimeCounter:function(t,e){t.sessionTimeCounter=e},setSessionTimeRemaining:function(t,e){t.sessionTimeRemaining=e},login:function(t){t.sessionTimeCounter=0,t.sessionTimeRemaining=600,t.sessionTimeLimit=600},logout:function(t){t.sessionTimeCounter=0,t.sessionTimeRemaining=0,t.sessionTimeLimit=600}},l={getSessionTimeCounter:function(t){return t.sessionTimeCounter},getSessionTimeRemaining:function(t){return t.sessionTimeRemaining},getSessionTimeLimit:function(t){return t.sessionTimeLimit}},u=new a["a"].Store({state:n,mutations:c,getters:l,actions:{},plugins:[i.plugin],strict:!0});e["a"]=u},eafe:function(t,e,s){"use strict";var a=s("84f0"),r=s.n(a);r.a},eeb9:function(t,e,s){"use strict";s("caad"),s("d3b7"),s("2532");var a=s("bc3a"),r=s.n(a),o=s("75b0"),i=r.a.create({headers:{Authorization:"Bearer "+o["a"].getters.getUserTokenAccess}});i.interceptors.request.use((function(t){var e="Bearer null",s=t.url.includes("passportAuth"),a=t.url.includes("passportTestToken");if(s);else if(a)null!=o["a"].getters.getUserTokenAccess&&(t.headers["Authorization"]="Bearer "+o["a"].getters.getUserTokenAccess);else if(t.headers["Authorization"]==e){if(null==o["a"].getters.getUserTokenAccess)throw new r.a.Cancel("[Interceptor] Operation canceled by the user");t.headers["Authorization"]="Bearer "+o["a"].getters.getUserTokenAccess}return t}),(function(t){return Promise.reject(t)})),e["a"]=i},f3bf:function(t,e,s){"use strict";var a=s("d467"),r=s.n(a);r.a}});
//# sourceMappingURL=app.f23869bf.js.map