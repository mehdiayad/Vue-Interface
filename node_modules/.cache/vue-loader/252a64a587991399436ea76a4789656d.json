{"remainingRequest":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/Navbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/Navbar.vue","mtime":1584064114424},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/babel-loader/lib/index.js","mtime":1583024830408},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXgnCmltcG9ydCB1c2VyU3RvcmUgZnJvbSAnLi4vc3RvcmUvdXNlclN0b3JlJwppbXBvcnQgbmF2YmFyU3RvcmUgZnJvbSAnLi4vc3RvcmUvbmF2YmFyU3RvcmUnCgoKZXhwb3J0IGRlZmF1bHQgewoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcnlTZWFyY2g6IG5hdmJhclN0b3JlLmdldHRlcnMuZ2V0Q2F0ZWdvcnlTZWFyY2gsCiAgICAgIHByb2R1Y3RTZWFyY2g6IG5hdmJhclN0b3JlLmdldHRlcnMuZ2V0UHJvZHVjdFNlYXJjaCwKICAgICAgY2F0ZWdvcnlUZW1wOiBbXSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYXJ0TnVtYmVyOiB7CiAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBuYXZiYXJTdG9yZS5nZXR0ZXJzLmdldENhcnROdW1iZXIgfSwKICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge3RoaXMuY2FydE51bWJlciA9IHZhbHVlfQogICAgfSwKICAgIHVzZXJOYW1lOiB7CiAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB1c2VyU3RvcmUuZ2V0dGVycy5nZXRVc2VyTmFtZSB9LAogICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7dGhpcy51c2VyTmFtZSA9IHZhbHVlfQogICAgfSwKICAgIHVzZXJJZDogewogICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdXNlclN0b3JlLmdldHRlcnMuZ2V0VXNlcklkIH0sCiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHt0aGlzLnVzZXJJZCA9IHZhbHVlfQogICAgfSwKICAgIGNhdGVnb3JpZXM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG5hdmJhclN0b3JlLmdldHRlcnMuZ2V0Q2F0ZWdvcmllc30sCiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHt0aGlzLmNhdGVnb3JpZXMgPSB2YWx1ZX0KICAgIH0sCiAgICB0ZXN0OiB7CiAgICAgIGdldDogZnVuY3Rpb24oKSB7cmV0dXJuIHJvdXRlci5jdXJyZW50Um91dGUubmFtZX0sCiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHt0aGlzLnRlc3QgPSB2YWx1ZX0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5nZXRDYXRlZ29yaWVzKCkKICB9LAogIG1ldGhvZHMgOiB7CiAgICBnZXRDYXJ0TnVtYmVyOiBmdW5jdGlvbihpZCl7CiAgICAgIC8vY29uc29sZS5sb2coaWQpCiAgICAgIHZhciB1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkxfQ0FSVF9OVU1CRVIgKyBpZCAKICAgICAgYXhpb3MuZ2V0KHVybCkuCiAgICAgICAgdGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgICAgICB0aGlzLmNhcnROdW1iZXIgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICBuYXZiYXJTdG9yZS5jb21taXQoJ3NldENhcnROdW1iZXInLHRoaXMuY2FydE51bWJlcikKCiAgICAgIH0pCiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygnW0dldENhcnROdW1iZXJdIEVSUk9SIDogJyArICBlcnJvcikKICAgICAgfSkKICAgIH0sCiAgICBnZXRDYXRlZ29yaWVzOiBmdW5jdGlvbigpewogICAgICAvL2NvbnNvbGUubG9nKCdbR2V0Q2F0ZWdvcmllc10gU1RBUlQnKQogICAgICB2YXIgdXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMX0NBVEVHT1JZX0lOREVYCiAgICAgIGF4aW9zLmdldCh1cmwpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICB0aGlzLmNhdGVnb3J5VGVtcCA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgIHRoaXMuZmlsbENhdGVnb3JpZXMoKQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coJ1tHZXRDYXRlZ29yaWVzXSBFUlJPUiA6ICcgKyAgZXJyb3IpCiAgICAgICAgIH0pCiAgICB9LAogICAgZmlsbENhdGVnb3JpZXM6IGZ1bmN0aW9uKCl7CiAgICAgIC8vY29uc29sZS5sb2coJ1tGaWxsQ2F0ZWdvcmllc10gU1RBUlQnKQogICAgICB0aGlzLmNhdGVnb3JpZXNbMF09J1RvdXRlcyBsZXMgY2F0ZWdvcmllcycKICAgICAgZm9yKHZhciBpPSAwOyBpIDwgdGhpcy5jYXRlZ29yeVRlbXAubGVuZ3RoOyBpKyspewogICAgICAgIHRoaXMuY2F0ZWdvcmllc1t0aGlzLmNhdGVnb3J5VGVtcFtpXS5pZF0gPSB0aGlzLmNhdGVnb3J5VGVtcFtpXS5uYW1lCiAgICAgIH0KCiAgICAgIC8vY29uc29sZS5sb2codGhpcy5jYXRlZ29yaWVzMikKICAgICAgbmF2YmFyU3RvcmUuY29tbWl0KCdzZXRDYXRlZ29yaWVzJyx0aGlzLmNhdGVnb3JpZXMpCgogICAgfSwKICAgIHNlYXJjaFByb2R1Y3RzOiBmdW5jdGlvbigpIHsKICAgICAgLy9jb25zb2xlLmxvZygnW1ZdTkFWQkFSIFtNXVNFQVJDSFBST0RVQ1RTIFtTXUVOVEVSJykKCiAgICAgIG5hdmJhclN0b3JlLmNvbW1pdCgnc2V0Q2F0ZWdvcnlTZWFyY2gnLHRoaXMuY2F0ZWdvcnlTZWFyY2gpCiAgICAgIG5hdmJhclN0b3JlLmNvbW1pdCgnc2V0UHJvZHVjdFNlYXJjaCcsdGhpcy5wcm9kdWN0U2VhcmNoKQogICAgICAKICAgICAgCiAgICAgIGlmKHJvdXRlci5jdXJyZW50Um91dGUubmFtZSA9PSAncHJvZHVjdF9pbmRleCcpewogICAgICAgIHJvdXRlci5nbygpCiAgICAgIH1lbHNlewogICAgICAgIHJvdXRlci5wdXNoKHsgbmFtZTogJ3Byb2R1Y3RfaW5kZXgnfSkKICAgICAgfQoKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uKCl7CgogICAgICB1c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VySWQnLG51bGwpCiAgICAgIHVzZXJTdG9yZS5jb21taXQoJ3NldFVzZXJDb25uZWN0ZWQnLGZhbHNlKQogICAgICB1c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VySW5mb3JtYXRpb25zJyxudWxsKQogICAgICAvL3VzZXJTdG9yZS5jb21taXQoJ3NldFVzZXJFbWFpbCcsbnVsbCkKICAgICAgLy91c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VyTmFtZScsbnVsbCkKICAgICAgLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsIEpTT04uc3RyaW5naWZ5KHVzZXJTdG9yZS5nZXR0ZXJzLmFsbCkpIGF1dG9tYXRpYyB3aXRoIHZ1ZXgtcGVyc2lzdAoKICAgICAgICByb3V0ZXIucHVzaCh7IG5hbWU6ICdsb2dpbid9KQoKICAgIH0sCiAgICBnb0hvbWVQYWdlOiBmdW5jdGlvbigpewoKICAgICAgbmF2YmFyU3RvcmUuY29tbWl0KCdzZXRQcm9kdWN0U2VhcmNoJyxudWxsKQogICAgICBuYXZiYXJTdG9yZS5jb21taXQoJ3NldENhdGVnb3J5U2VhcmNoJywwKQoKICAgICAgaWYocm91dGVyLmN1cnJlbnRSb3V0ZS5uYW1lID09ICdob21lJyl7CiAgICAgICAgcm91dGVyLmdvKCkKICAgICAgfWVsc2V7CiAgICAgICAgcm91dGVyLnB1c2goeyBuYW1lOiAnaG9tZSd9KQogICAgICB9CgogICAgfSAKICB9Cn0K"},{"version":3,"sources":["Navbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Navbar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\n  <div class=\"container-fluid \">\n    <div class=\"row bg-info align-items-center py-1 \">\n\n      <div class=\"col-1 col-sm-1 text-center px-0\">\n          <a class=\"btn mx-auto\" @click=\"goHomePage()\"> \n            <h3 class=\"text-white\">VueJS</h3>\n          </a>        \t\t\t\n      </div>\n\n      <div class=\"col-2 col-sm-2\">\n      </div>\n\n      <div class=\"col-6 col-sm-6 py-3 px-0\">\n        <div class=\"input-group border rounded\">\n          <div class=\"container\">\n            <div class=\"row\">\n              \n              <div class=\"input-group-prepend col-4 col-sm-4 px-0\"> \n                <select v-model.number=\"categorySearch\" class=\"w-100 bg-info text-white\">\n                      <option v-for=\"(category, index) in categories\" :key=\"index\" :value=\"index\"> {{category}} </option>\n                </select>\n              </div>\n          \n              <input class=\"search-bar col-6 col-sm-6\" v-model=\"productSearch\" placeholder=\"Rechercher un produit\"/>\n\n              <div class=\"input-group-append col-1 col-sm-1\">\n                  <a class=\"btn my-0 py-0\" @click='searchProducts()'> <i class=\"fa fa-search fa-2x text-white px-2 h-100 w-100\" aria-hidden=\"true\"></i> </a>\n              </div>\n\n            </div>\n          </div>\n          \n          </div>\n\n      </div>\n\n      <div class=\"col-2 col-sm-2\">\n          <div class=\"dropdown show\">\n            <a class=\"btn bg-white text-dark dropdown-toggle\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n              {{userName}}\n            </a>\n\n            <div class=\"dropdown-menu bg-white text-dark\" aria-labelledby=\"dropdownMenuLink\">\n              <a class=\"dropdown-item text-dark\" href=\"/clients\" > <i class=\"fas fa-chevron-right\"></i> Clients </a>\n              <a class=\"dropdown-item text-dark\" href=\"/authorizedClients\" > <i class=\"fas fa-chevron-right\"></i> Authorized Clients </a>\n              <a class=\"dropdown-item text-dark\" href=\"/personalAccessTokens\" > <i class=\"fas fa-chevron-right\"></i> Personal Access Tokens </a>\n              <a class=\"dropdown-item text-dark\" href=\"\" @click='logout()'> <i class=\"fas fa-chevron-right\"></i> Deconnexion </a>\n            </div>\n\n          </div>\n      </div>\n\n      \t <div class=\"col-1 col-sm-1\">\n            <div class=\"row\">\n              <router-link :to=\"{ name: 'cart_index', params: { id: userId } }\">\n\n                  <div class=\"col-12 col-sm-12 text-white card_number\">\n                      <h4> {{cartNumber}} </h4>\n                  </div>\n\n                  <div class=\"col-12 col-sm-12 card_shop\">\n                    <i @click=\"fillCategories()\" class=\"fas fa-shopping-cart fa-3x text-white\"></i> \n                  </div>\n              </router-link>\n            </div>\n        </div>\n\n\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from 'axios'\nimport router from '../router/index'\nimport userStore from '../store/userStore'\nimport navbarStore from '../store/navbarStore'\n\n\nexport default {\n\n  data() {\n    return {\n      categorySearch: navbarStore.getters.getCategorySearch,\n      productSearch: navbarStore.getters.getProductSearch,\n      categoryTemp: [],\n    }\n  },\n  computed: {\n    cartNumber: {\n      get: function() { return navbarStore.getters.getCartNumber },\n      set: function(value) {this.cartNumber = value}\n    },\n    userName: {\n      get: function() { return userStore.getters.getUserName },\n      set: function(value) {this.userName = value}\n    },\n    userId: {\n      get: function() { return userStore.getters.getUserId },\n      set: function(value) {this.userId = value}\n    },\n    categories: {\n      get: function() { return navbarStore.getters.getCategories},\n      set: function(value) {this.categories = value}\n    },\n    test: {\n      get: function() {return router.currentRoute.name},\n      set: function(value) {this.test = value}\n    }\n  },\n  mounted: function() {\n    this.getCategories()\n  },\n  methods : {\n    getCartNumber: function(id){\n      //console.log(id)\n      var url = process.env.VUE_APP_API_URL_CART_NUMBER + id \n      axios.get(url).\n        then((response) => {\n          //console.log(response)\n          this.cartNumber = response.data\n          navbarStore.commit('setCartNumber',this.cartNumber)\n\n      })\n      .catch(function (error) {\n        console.log('[GetCartNumber] ERROR : ' +  error)\n      })\n    },\n    getCategories: function(){\n      //console.log('[GetCategories] START')\n      var url = process.env.VUE_APP_API_URL_CATEGORY_INDEX\n      axios.get(url)\n        .then((response) => {\n          //console.log(response.data)\n          this.categoryTemp = response.data\n          this.fillCategories()\n        })\n        .catch(function (error) {\n          console.log('[GetCategories] ERROR : ' +  error)\n         })\n    },\n    fillCategories: function(){\n      //console.log('[FillCategories] START')\n      this.categories[0]='Toutes les categories'\n      for(var i= 0; i < this.categoryTemp.length; i++){\n        this.categories[this.categoryTemp[i].id] = this.categoryTemp[i].name\n      }\n\n      //console.log(this.categories2)\n      navbarStore.commit('setCategories',this.categories)\n\n    },\n    searchProducts: function() {\n      //console.log('[V]NAVBAR [M]SEARCHPRODUCTS [S]ENTER')\n\n      navbarStore.commit('setCategorySearch',this.categorySearch)\n      navbarStore.commit('setProductSearch',this.productSearch)\n      \n      \n      if(router.currentRoute.name == 'product_index'){\n        router.go()\n      }else{\n        router.push({ name: 'product_index'})\n      }\n\n    },\n    logout: function(){\n\n      userStore.commit('setUserId',null)\n      userStore.commit('setUserConnected',false)\n      userStore.commit('setUserInformations',null)\n      //userStore.commit('setUserEmail',null)\n      //userStore.commit('setUserName',null)\n      //localStorage.setItem(\"user\", JSON.stringify(userStore.getters.all)) automatic with vuex-persist\n\n        router.push({ name: 'login'})\n\n    },\n    goHomePage: function(){\n\n      navbarStore.commit('setProductSearch',null)\n      navbarStore.commit('setCategorySearch',0)\n\n      if(router.currentRoute.name == 'home'){\n        router.go()\n      }else{\n        router.push({ name: 'home'})\n      }\n\n    } \n  }\n}\n</script>\n\n<style scoped>\n\na{\n  color:white;\n}\n\n.card_number\n{\n  position: absolute;\n  left: 5px;\n  top: -35px;\n  z-index: 1;\n}\n\n.card_shop\n{\n  position: absolute;\n  left: 0px;\n  top: -15px;\n  z-index: 1;\n}\n\n.input-group-append{\n  min-width: 70px;\n}\n\n</style>"]}]}