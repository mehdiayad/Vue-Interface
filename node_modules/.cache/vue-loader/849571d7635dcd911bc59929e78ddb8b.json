{"remainingRequest":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/ProductShow.vue?vue&type=style&index=0&id=3265b6e8&scoped=true&lang=css&","dependencies":[{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/ProductShow.vue","mtime":1584300030969},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/postcss-loader/src/index.js","mtime":1583024838173},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wcm9kdWN0X2ltZ19zaG93X21pbmkKewkKCWhlaWdodDoxMDBweDsKfQoKLnByb2R1Y3RfaW1nX3Nob3dfZGlzcGxheQp7CgloZWlnaHQ6NTAwcHg7Cn0KCg=="},{"version":3,"sources":["ProductShow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2LA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ProductShow.vue","sourceRoot":"src/components","sourcesContent":["<template>\n \n\t<div class=\"container-fluid pt-1\">\n\t\t<div class=\"row\">\n\n\t\t\t<transition name=\"fade\">\n\t\t\t\t<div class=\"col-12 col-sm-12 text-center\" v-show=\"displayAlertAdd()\">\n\t\t\t\t\t<div class=\"col-6 col-sm-6 mx-auto border rounded py-2 my-2 text-white\" style=\"background-color:#39CCCC;\">\n\t\t\t\t\t\t<div> Votre produit a bien ete ajoute au panier </div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\n\n\t\t\t<div class=\"col-1 col-sm-1\">\n\t\t\t\t<div class=\"container-fluid p-0\">\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-12 col-sm-12\"> <a  href=\"#\" v-on:click=\"changeImg(product.img1)\"><img alt=\"product_img_show_1\" class=\"product_img_show_mini product_img_show_1 img-fluid  mt-3 border rounded w-100\" v-bind:src=\"getImgUrl(product.img1)\"/></a></div>\n\t\t\t\t\t\t<div class=\"col-12 col-sm-12\"> <a  href=\"#\" v-on:click=\"changeImg(product.img2)\"><img alt=\"product_img_show_1\" class=\"product_img_show_mini product_img_show_1 img-fluid  mt-3 border rounded w-100\" v-bind:src=\"getImgUrl(product.img2)\"/></a></div>\n\t\t\t\t\t\t<div class=\"col-12 col-sm-12\"> <a  href=\"#\" v-on:click=\"changeImg(product.img3)\"><img alt=\"product_img_show_1\" class=\"product_img_show_mini product_img_show_1 img-fluid  mt-3 border rounded w-100\" v-bind:src=\"getImgUrl(product.img3)\"/></a></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"col-4 col-sm-4\">\n\t\t\t\t<div class=\"col-12 col-sm-12\"> <img alt=\"product_img_display\" id=\"product_img_show_display\" class=\"product_img_show_display img-fluid w-100\" v-bind:src=\"getImgUrl(product.img1)\"/></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"col-4 col-sm-4 text-left\">\n\t\t\t\t<h5> {{ product.description_title }}</h5>\n\t\t\t\t<p class=\"pb-0 mb-0\"> De <span class=\"text-primary h5\">{{ product.brand }}</span></p>\n\t\t\t\t\n\t\t\t\t<span v-for=\"number in 5\" v-bind:key=\"number\">\n\t\t\t\t\t<i v-if=\"number<=product.score\" class=\"fas fa-star text-dark\"></i>\n\t\t\t\t\t<i v-else class=\"far fa-star text-dark\"></i>\n\t\t\t\t</span>\n\t\t\t\t\n\t\t\t\t<div class=\"pb-1 mb-2 bg-dark\"></div>\n\t\t\t\t\n\t\t\t\t<p> Prix : <span class=\"text-danger h5\">{{ formatPrice(product.price) }} â‚¬ </span> </p>\n\t\t\t\t\n\t\t\t\t<ul>\n\t\t\t\t\t<span v-for=\"(description,i) in descriptions\" v-bind:key=\"i\">\n\t\t\t\t\t\t<li v-if=\"(description.length)>1\"> {{description}} </li>\n\t\t\t\t\t</span>\n\t\t\t\t</ul>\n\n\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\n\t\t\t<div class=\"col-3 col-sm-3\">\n\t\t\t\t<div class=\"container-fluid\">\n\t\t\t\t\t<div class=\"row text-left\">\n\t\t\t\t\t\t<div class=\"col-9 col-sm-9 border rounded p-3 mx-auto\">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div v-if=\"stockIsEnough(product.stock)\" >\n\t\t\t\t\t\t\t\t<h4 class=\"text-primary\"> En Stock </h4>\n\t\t\t\t\t\t\t\t<h5 class=\"mt-5\"> Quantite :\n\t\t\t\t\t\t\t\t\t<select v-model.number=\"productQuantity\" >\n\t\t\t\t\t\t\t\t\t\t<option v-for=\"number in 15\"  :key=\"number\" :value=\"number\">\n\t\t\t\t\t\t\t\t\t\t\t{{  number }}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t<h4 class=\"text-danger\"> Plus que {{ product.stock }} restants </h4>\n\t\t\t\t\t\t\t\t<h5 class=\"mt-5\"> Quantite : \n\t\t\t\t\t\t\t\t\t<select v-model.number=\"productQuantity\" >\n\t\t\t\t\t\t\t\t\t\t<option v-for=\"number in product.stock\"  :key=\"number\" :value=\"number\">\n\t\t\t\t\t\t\t\t\t\t\t{{ number  }}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t\t<button class=\"btn btn-info w-100 mt-3\" @click=\"addToCart()\"> Ajouter au panier </button>\n\n\t\t\t\t\t\t\t\t<router-link :to=\"{ name: 'cart_index', params: { id: userId } }\">\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn-danger w-100 mt-3\"> Voir le panier </button>\n\t\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n  \n</template>\n\n\n<script>\n\nimport axios from 'axios'\nimport userStore from '../store/userStore'\nimport navbarStore from '../store/navbarStore'\n\nexport default {\n\n  \tdata () {\n\t    return {\n\t\tproductId: this.$route.params.id,\n\t\tuserId: userStore.getters.getUserId,\n\t\tproduct: [],\n\t\tdescriptions: null,\n\t\talert: false,\n\t\tproductQuantity: 1\n      }\n\t},\n  \tmounted: function() {\n\t\taxios.defaults.headers.common['Authorization'] = 'Bearer ' + userStore.getters.getUserTokenAccess\n\t\t//console.log(axios.defaults.headers.common['Authorization'])\n\t\tthis.getProduct(this.productId)\n\t},\n  \tmethods: {\n\t\tstockIsEnough: function(value){\n\t\t\treturn (value >= 15 ? true : false)\n\t\t},\n\t\tdisplayAlertAdd: function(){\n\t\t\treturn this.alert\n\t\t},\n\t\tgetProduct: function(id) {\n\t\t\t//console.log('call get product')\n      \t\tvar url = process.env.VUE_APP_API_BASE_URL + 'product/' + id\n\t\t\t\n\t\t\taxios.get(url)\n       \t\t.then((response) => {\n\t\t\t//console.log(response),\n\t\t\tthis.product = response.data\n\t\t\tthis.descriptions = this.product.description_product.split('.')\n\t\t\t//console.log(this.product)\n\t\t\t//console.log(this.descriptions)\n\t\t\t})\n\t\t\t.catch(function (error) {\n          \t\tconsole.log(error)\n      \t\t});\n\n\t\t},\n\t\tchangeImg: function(path){\n\t\t\tdocument.getElementById(\"product_img_show_display\").src = this.getImgUrl(path);\n\t\t},\n\t\tdisplayConsole(){\n\t\t\tconsole.log(this.product)\n\t\t\tconsole.log(this.descriptions)\n\t\t},\n\t\taddToCart: function(){\n\t\t\t\n      \t\tvar url = process.env.VUE_APP_API_BASE_URL + 'cart'\n\t\t\t//console.log('[ADDTOCART] = ' + url)\n\n\t\t\taxios({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl : url,\n\t\t\t\tdata : {\n\t\t\t\t\t\t// variable elements\n\t\t\t\t\t\tuser_id: userStore.getters.getUserId, \n\t\t\t\t\t\tproduct_id : this.productId,\n\t\t\t\t\t\tproduct_quantity : this.productQuantity,\n\t\t\t\t\t\tproduct_price: this.product.price\n\t\t\t\t\t\t}\n\t\t\t})\n       \t\t.then((response) => {\n\t\t\t//console.log(response)\n\n\t\t\tif(response.data.isStored){\n\t\t\t\tnavbarStore.commit('updateCartNumber', this.productQuantity)\n\t\t\t\tthis.alert = true\n\t\t\t\tthis.productQuantity = 1\n\t\t\t}\n\t\t\t\n\t\t\t})\n\t\t\t.catch(function (error) {\n          \t\tconsole.log(error)\n      \t\t});\n\t\t}\t\n\t\t\n\t}\n}\n</script>\n\n\n<style scoped>\n\n.product_img_show_mini\n{\t\n\theight:100px;\n}\n\n.product_img_show_display\n{\n\theight:500px;\n}\n\n</style>\n\n"]}]}