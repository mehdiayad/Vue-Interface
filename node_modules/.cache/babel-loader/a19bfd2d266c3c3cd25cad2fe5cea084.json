{"remainingRequest":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/babel-loader/lib/index.js!/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/Login.vue","mtime":1584227767141},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/babel-loader/lib/index.js","mtime":1583024830408},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXgnOwppbXBvcnQgdXNlclN0b3JlIGZyb20gJy4uL3N0b3JlL3VzZXJTdG9yZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6IHVzZXJTdG9yZS5nZXR0ZXJzLmdldFVzZXJFbWFpbCwKICAgICAgcGFzc3dvcmQ6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpblNpbXBsZTogZnVuY3Rpb24gbG9naW5TaW1wbGUoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdbVl1MT0dJTlMgW01dTE9HSU4gW1NdRU5URVInKTsKICAgICAgdmFyIHVybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX0JBU0VfVVJMICsgJ2xvZ2luU2ltcGxlJzsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHVybDogdXJsLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICB1c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VySWQnLCByZXNwb25zZS5kYXRhLnVzZXJJZCk7CiAgICAgICAgdXNlclN0b3JlLmNvbW1pdCgnc2V0VXNlckVtYWlsJywgcmVzcG9uc2UuZGF0YS51c2VyRW1haWwpOwogICAgICAgIHVzZXJTdG9yZS5jb21taXQoJ3NldFVzZXJOYW1lJywgcmVzcG9uc2UuZGF0YS51c2VyTmFtZSk7CiAgICAgICAgdXNlclN0b3JlLmNvbW1pdCgnc2V0VXNlckNvbm5lY3RlZCcsIHJlc3BvbnNlLmRhdGEudXNlckNvbm5lY3RlZCk7CiAgICAgICAgdXNlclN0b3JlLmNvbW1pdCgnc2V0VXNlckluZm9ybWF0aW9ucycsIHJlc3BvbnNlLmRhdGEudXNlckluZm9ybWF0aW9ucyk7CgogICAgICAgIGlmICh1c2VyU3RvcmUuZ2V0dGVycy5nZXRVc2VyQ29ubmVjdGVkKSB7CiAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luUGFzc3BvcnQ6IGZ1bmN0aW9uIGxvZ2luUGFzc3BvcnQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdbVl1MT0dJTlAgW01dTE9HSU4gW1NdRU5URVInKTsKICAgICAgdmFyIHVybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX0JBU0VfVVJMICsgJ2xvZ2luUGFzc3BvcnQnOyAvL2NvbnNvbGUubG9nKCdbVVJMID0gJysgYXBpVVJMKQoKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHVybDogdXJsLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS51c2VyQ29ubmVjdGVkKSB7CiAgICAgICAgICB1c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VySWQnLCByZXNwb25zZS5kYXRhLnVzZXJJZCk7CiAgICAgICAgICB1c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VyRW1haWwnLCByZXNwb25zZS5kYXRhLnVzZXJFbWFpbCk7CiAgICAgICAgICB1c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VyTmFtZScsIHJlc3BvbnNlLmRhdGEudXNlck5hbWUpOwogICAgICAgICAgdXNlclN0b3JlLmNvbW1pdCgnc2V0VXNlckNvbm5lY3RlZCcsIHJlc3BvbnNlLmRhdGEudXNlckNvbm5lY3RlZCk7CiAgICAgICAgICB1c2VyU3RvcmUuY29tbWl0KCdzZXRVc2VySW5mb3JtYXRpb25zJywgcmVzcG9uc2UuZGF0YS51c2VySW5mb3JtYXRpb25zKTsKICAgICAgICAgIHVzZXJTdG9yZS5jb21taXQoJ3NldFVzZXJUb2tlblR5cGUnLCByZXNwb25zZS5kYXRhLnRva2VuX3R5cGUpOwogICAgICAgICAgdXNlclN0b3JlLmNvbW1pdCgnc2V0VXNlclRva2VuRXhwaXJlJywgcmVzcG9uc2UuZGF0YS5leHBpcmVzX2luKTsKICAgICAgICAgIHVzZXJTdG9yZS5jb21taXQoJ3NldFVzZXJUb2tlbkFjY2VzcycsIHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuKTsKICAgICAgICAgIHVzZXJTdG9yZS5jb21taXQoJ3NldFVzZXJUb2tlblJlZnJlc2gnLCByZXNwb25zZS5kYXRhLnJlZnJlc2hfdG9rZW4pOwogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHVzZXJTdG9yZS5nZXR0ZXJzLmdldFVzZXJUb2tlbkFjY2VzczsKICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ0lkZW5maWZpY2F0aW9uIEZhaWxlZCcpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRDYXJ0TnVtYmVyOiBmdW5jdGlvbiBnZXRDYXJ0TnVtYmVyKGlkKSB7CiAgICAgIGNvbnNvbGUubG9nKCdbVl1MT0dJTiBbTV1HRVRDQVJUTlVNQkVSIFtTXUVOVEVSJyk7CiAgICAgIHZhciB1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9CQVNFX1VSTCArICdjYXJ0L251bWJlci8nICsgaWQ7CiAgICAgIGF4aW9zLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICB2YXIgbnVtYmVyID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBuYXZiYXJTdG9yZS5jb21taXQoJ3NldENhcnROdW1iZXInLCBudW1iZXIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\n  <div class=\"container-fluid\">\n\n    <div class=\"row pt-2\" v-show=\"false\">\n      <div class=\"col-5 col-sm-5 mx-auto mt-5\">\n        <div class=\"card mx-auto text-left\">\n          <div class=\"card-header bg-info text-white\"> Connexion SIMPLE</div>\n          <div class=\"card-body\">\n            <div class=\"form-group\">\n              <div> Email </div>\n              <input v-model=\"email\" type=\"email\" class=\"form-control\"/>\n            </div>\n            <div class=\"form-group\">\n              <div> Mot de passe </div>\n              <input v-model=\"password\" type=\"password\" class=\"form-control\"/>\n            </div>\n            <div class=\"text-center\">\n              <a class=\"float-right btn btn-info text-white\" v-on:click=\"loginSimple()\">Valider</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row pt-2\">\n      <div class=\"col-5 col-sm-5 mx-auto mt-5\">        \n        <div class=\"card mx-auto text-left\">\n          <div class=\"card-header bg-info text-white\"> Connexion</div>\n          <div class=\"card-body\">\n            <div class=\"form-group\">\n              <div> Email  </div>\n              <input v-model=\"email\" type=\"text\" class=\"form-control\"/>\n            </div>\n            <div class=\"form-group\">\n              <div> Mot de passe </div>\n              <input v-model=\"password\" type=\"password\" class=\"form-control\"/>\n            </div>\n            <div class=\"text-center\">\n              <a class=\"float-right btn btn-info text-white\" v-on:click=\"loginPassport()\">Valider</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n</template>\n\n<script>\n\nimport axios from 'axios'\nimport router from '../router/index'\nimport userStore from '../store/userStore'\n\n\n  export default {\n  data() {\n    return {\n      email: userStore.getters.getUserEmail,\n      password: null,\n    }\n  },\n  methods:{\n    loginSimple:  function() {\n      console.log('[V]LOGINS [M]LOGIN [S]ENTER')\n      var url = process.env.VUE_APP_API_BASE_URL + 'loginSimple'\n      axios({\n        method: 'post',\n        url : url,\n        data : {email : this.email, password: this.password}\n      })\n      .then(function (response) {\n            //console.log(response)\n            userStore.commit('setUserId',response.data.userId)\n            userStore.commit('setUserEmail',response.data.userEmail)\n            userStore.commit('setUserName',response.data.userName)\n            userStore.commit('setUserConnected',response.data.userConnected)\n            userStore.commit('setUserInformations',response.data.userInformations)\n            \n            if(userStore.getters.getUserConnected){\n              router.push({ name: 'home' })\n            }\n        })\n        .catch(function (error) {\n          console.log(error)\n      });\n    },\n    loginPassport:  function() {\n      console.log('[V]LOGINP [M]LOGIN [S]ENTER')\n      var url = process.env.VUE_APP_API_BASE_URL + 'loginPassport'\n      //console.log('[URL = '+ apiURL)\n      \n      axios({\n        method: 'post',\n        url: url,\n        data : {email : this.email, password: this.password}\n      })\n      .then(function (response) {\n            console.log(response)\n            \n            if(response.data.userConnected){\n\n              userStore.commit('setUserId',response.data.userId)\n              userStore.commit('setUserEmail',response.data.userEmail)\n              userStore.commit('setUserName',response.data.userName)\n              userStore.commit('setUserConnected',response.data.userConnected)\n              userStore.commit('setUserInformations',response.data.userInformations)\n              userStore.commit('setUserTokenType',response.data.token_type)\n              userStore.commit('setUserTokenExpire',response.data.expires_in)\n              userStore.commit('setUserTokenAccess',response.data.access_token)\n              userStore.commit('setUserTokenRefresh',response.data.refresh_token)\n              axios.defaults.headers.common['Authorization'] = 'Bearer ' + userStore.getters.getUserTokenAccess\n              router.push({ name: 'home' })\n\n            }\n            else\n            {\n              console.log('Idenfification Failed')\n            }\n\n        })\n        .catch(function (error) {\n          console.log(error)\n      });\n    },\n    getCartNumber: function(id){\n      console.log('[V]LOGIN [M]GETCARTNUMBER [S]ENTER')\n      var url = process.env.VUE_APP_API_BASE_URL + 'cart/number/' + id\n      axios.get(url).\n        then((response) => {\n          //console.log(response)\n          var number = response.data\n          navbarStore.commit('setCartNumber',number)\n      })\n      .catch(function (error) {\n          console.log(error)\n      })\n    },\n  }\n}\n</script>\n\n\n<style scoped>\n</style>\n\n"],"sourceRoot":"src/components"}]}