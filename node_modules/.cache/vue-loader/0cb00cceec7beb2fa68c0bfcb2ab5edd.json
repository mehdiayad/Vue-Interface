{"remainingRequest":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/Passeport/Clients.vue?vue&type=style&index=0&id=5316ebce&scoped=true&lang=css&","dependencies":[{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/src/components/Passeport/Clients.vue","mtime":1584056423853},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/postcss-loader/src/index.js","mtime":1583024838173},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/cache-loader/dist/cjs.js","mtime":1583024834205},{"path":"/Users/Med/Desktop/Perso/WEB/vue-interface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hY3Rpb24tbGluayB7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0K"},{"version":3,"sources":["Clients.vue"],"names":[],"mappings":";AACA;AACA;AACA","file":"Clients.vue","sourceRoot":"src/components/Passeport","sourcesContent":["<style scoped>\n    .action-link {\n        cursor: pointer;\n    }\n</style>\n\n<template>\n    <div>\n        <div class=\"card card-default\">\n            <div class=\"card-header\">\n                <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n                    <span>\n                        OAuth Clients\n                    </span>\n\n                    <a class=\"action-link\" tabindex=\"-1\" @click=\"showCreateClientForm\">\n                        Create New Client\n                    </a>\n                </div>\n            </div>\n\n            <div class=\"card-body\">\n                <!-- Current Clients -->\n                <p class=\"mb-0\" v-if=\"clients.length === 0\">\n                    You have not created any OAuth clients.\n                </p>\n\n                <table class=\"table table-borderless mb-0\" v-if=\"clients.length > 0\">\n                    <thead>\n                        <tr>\n                            <th>Client ID</th>\n                            <th>Name</th>\n                            <th>Secret</th>\n                            <th></th>\n                            <th></th>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        <tr v-for=\"client in clients\">\n                            <!-- ID -->\n                            <td style=\"vertical-align: middle;\">\n                                {{ client.id }}\n                            </td>\n\n                            <!-- Name -->\n                            <td style=\"vertical-align: middle;\">\n                                {{ client.name }}\n                            </td>\n\n                            <!-- Secret -->\n                            <td style=\"vertical-align: middle;\">\n                                <code>{{ client.secret }}</code>\n                            </td>\n\n                            <!-- Edit Button -->\n                            <td style=\"vertical-align: middle;\">\n                                <a class=\"action-link\" tabindex=\"-1\" @click=\"edit(client)\">\n                                    Edit\n                                </a>\n                            </td>\n\n                            <!-- Delete Button -->\n                            <td style=\"vertical-align: middle;\">\n                                <a class=\"action-link text-danger\" @click=\"destroy(client)\">\n                                    Delete\n                                </a>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n\n        <!-- Create Client Modal -->\n        <div class=\"modal fade\" id=\"modal-create-client\" tabindex=\"-1\" role=\"dialog\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h4 class=\"modal-title\">\n                            Create Client\n                        </h4>\n\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                    </div>\n\n                    <div class=\"modal-body\">\n                        <!-- Form Errors -->\n                        <div class=\"alert alert-danger\" v-if=\"createForm.errors.length > 0\">\n                            <p class=\"mb-0\"><strong>Whoops!</strong> Something went wrong!</p>\n                            <br>\n                            <ul>\n                                <li v-for=\"error in createForm.errors\">\n                                    {{ error }}\n                                </li>\n                            </ul>\n                        </div>\n\n                        <!-- Create Client Form -->\n                        <form role=\"form\">\n                            <!-- Name -->\n                            <div class=\"form-group row\">\n                                <label class=\"col-md-3 col-form-label\">Name</label>\n\n                                <div class=\"col-md-9\">\n                                    <input id=\"create-client-name\" type=\"text\" class=\"form-control\"\n                                                                @keyup.enter=\"store\" v-model=\"createForm.name\">\n\n                                    <span class=\"form-text text-muted\">\n                                        Something your users will recognize and trust.\n                                    </span>\n                                </div>\n                            </div>\n\n                            <!-- Redirect URL -->\n                            <div class=\"form-group row\">\n                                <label class=\"col-md-3 col-form-label\">Redirect URL</label>\n\n                                <div class=\"col-md-9\">\n                                    <input type=\"text\" class=\"form-control\" name=\"redirect\"\n                                                    @keyup.enter=\"store\" v-model=\"createForm.redirect\">\n\n                                    <span class=\"form-text text-muted\">\n                                        Your application's authorization callback URL.\n                                    </span>\n                                </div>\n                            </div>\n\n                            <!-- Confidential -->\n                            <div class=\"form-group row\">\n                                <label class=\"col-md-3 col-form-label\">Confidential</label>\n\n                                <div class=\"col-md-9\">\n                                    <div class=\"checkbox\">\n                                        <label>\n                                            <input type=\"checkbox\" v-model=\"createForm.confidential\">\n                                        </label>\n                                    </div>\n\n                                    <span class=\"form-text text-muted\">\n                                        Require the client to authenticate with a secret. Confidential clients can hold credentials in a secure way without exposing them to unauthorized parties. Public applications, such as native desktop or JavaScript SPA applications, are unable to hold secrets securely.\n                                    </span>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n\n                    <!-- Modal Actions -->\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n\n                        <button type=\"button\" class=\"btn btn-primary\" @click=\"store\">\n                            Create\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Edit Client Modal -->\n        <div class=\"modal fade\" id=\"modal-edit-client\" tabindex=\"-1\" role=\"dialog\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h4 class=\"modal-title\">\n                            Edit Client\n                        </h4>\n\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n                    </div>\n\n                    <div class=\"modal-body\">\n                        <!-- Form Errors -->\n                        <div class=\"alert alert-danger\" v-if=\"editForm.errors.length > 0\">\n                            <p class=\"mb-0\"><strong>Whoops!</strong> Something went wrong!</p>\n                            <br>\n                            <ul>\n                                <li v-for=\"error in editForm.errors\">\n                                    {{ error }}\n                                </li>\n                            </ul>\n                        </div>\n\n                        <!-- Edit Client Form -->\n                        <form role=\"form\">\n                            <!-- Name -->\n                            <div class=\"form-group row\">\n                                <label class=\"col-md-3 col-form-label\">Name</label>\n\n                                <div class=\"col-md-9\">\n                                    <input id=\"edit-client-name\" type=\"text\" class=\"form-control\"\n                                                                @keyup.enter=\"update\" v-model=\"editForm.name\">\n\n                                    <span class=\"form-text text-muted\">\n                                        Something your users will recognize and trust.\n                                    </span>\n                                </div>\n                            </div>\n\n                            <!-- Redirect URL -->\n                            <div class=\"form-group row\">\n                                <label class=\"col-md-3 col-form-label\">Redirect URL</label>\n\n                                <div class=\"col-md-9\">\n                                    <input type=\"text\" class=\"form-control\" name=\"redirect\"\n                                                    @keyup.enter=\"update\" v-model=\"editForm.redirect\">\n\n                                    <span class=\"form-text text-muted\">\n                                        Your application's authorization callback URL.\n                                    </span>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n\n                    <!-- Modal Actions -->\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n\n                        <button type=\"button\" class=\"btn btn-primary\" @click=\"update\">\n                            Save Changes\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\n    import axios from 'axios'\n\n    export default {\n        /*\n         * The component's data.\n         */\n        data() {\n            return {\n                clients: [],\n\n                createForm: {\n                    errors: [],\n                    name: '',\n                    redirect: '',\n                    confidential: true\n                },\n\n                editForm: {\n                    errors: [],\n                    name: '',\n                    redirect: ''\n                }\n            };\n        },\n\n        /**\n         * Prepare the component (Vue 1.x).\n         */\n        ready() {\n            this.prepareComponent();\n        },\n\n        /**\n         * Prepare the component (Vue 2.x).\n         */\n        mounted() {\n            this.prepareComponent();\n        },\n\n        methods: {\n            /**\n             * Prepare the component.\n             */\n            prepareComponent() {\n                this.getClients();\n\n                $('#modal-create-client').on('shown.bs.modal', () => {\n                    $('#create-client-name').focus();\n                });\n\n                $('#modal-edit-client').on('shown.bs.modal', () => {\n                    $('#edit-client-name').focus();\n                });\n            },\n\n            /**\n             * Get all of the OAuth clients for the user.\n             */\n            getClients() {\n                axios.get(process.env.VUE_APP_BASE_API_URL+'/oauth/clients')\n                        .then(response => {\n                            this.clients = response.data;\n                        });\n            },\n\n            /**\n             * Show the form for creating new clients.\n             */\n            showCreateClientForm() {\n                $('#modal-create-client').modal('show');\n            },\n\n            /**\n             * Create a new OAuth client for the user.\n             */\n            store() {\n                this.persistClient(\n                    'post', \n                    process.env.VUE_APP_BASE_API_URL+'/oauth/clients',\n                    this.createForm, '#modal-create-client'\n                );\n            },\n\n            /**\n             * Edit the given client.\n             */\n            edit(client) {\n                this.editForm.id = client.id;\n                this.editForm.name = client.name;\n                this.editForm.redirect = client.redirect;\n\n                $('#modal-edit-client').modal('show');\n            },\n\n            /**\n             * Update the client being edited.\n             */\n            update() {\n                this.persistClient(\n                    'put', \n                    process.env.VUE_APP_BASE_API_URL+'/oauth/clients/' + this.editForm.id,\n                    this.editForm, \n                    '#modal-edit-client'\n                );\n            },\n\n            /**\n             * Persist the client to storage using the given form.\n             */\n            persistClient(method, uri, form, modal) {\n                form.errors = [];\n\n                axios[method](uri, form)\n                    .then(response => {\n                        this.getClients();\n\n                        form.name = '';\n                        form.redirect = '';\n                        form.errors = [];\n\n                        $(modal).modal('hide');\n                    })\n                    .catch(error => {\n                        if (typeof error.response.data === 'object') {\n                            form.errors = _.flatten(_.toArray(error.response.data.errors));\n                        } else {\n                            form.errors = ['Something went wrong. Please try again.'];\n                        }\n                    });\n            },\n\n            /**\n             * Destroy the given client.\n             */\n            destroy(client) {\n                axios.delete(process.env.VUE_APP_BASE_API_URL+'/oauth/clients/' + client.id)\n                        .then(response => {\n                            this.getClients();\n                        });\n            }\n        }\n    }\n</script>\n"]}]}